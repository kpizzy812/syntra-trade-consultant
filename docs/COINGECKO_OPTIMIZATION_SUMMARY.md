# üöÄ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è CoinGecko API & –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –ê–ª—å—Ç–∫–æ–∏–Ω—ã

## –ü—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –±–æ—Ç **–¥–æ—Å—Ç–∏–≥–∞–ª rate limit** (25 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω—É—Ç—É) –∏ **–∂–¥–∞–ª 47+ —Å–µ–∫—É–Ω–¥**, —á—Ç–æ —Å–æ–∑–¥–∞–≤–∞–ª–æ –ø–ª–æ—Ö–æ–π UX.

### –ü—Ä–∏—á–∏–Ω—ã:
1. **~24 API –∑–∞–ø—Ä–æ—Å–∞** –Ω–∞ –æ–¥–∏–Ω `market_overview` (–ø–æ 2 –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ –∫–∞–∂–¥—É—é –º–æ–Ω–µ—Ç—É)
2. **–ó–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã–π** —Å–ø–∏—Å–æ–∫ –∏–∑ 10 –∞–ª—å—Ç–∫–æ–∏–Ω–æ–≤ (—É—Å—Ç–∞—Ä–µ–ª, –Ω–µ —É–Ω–∏–≤–µ—Ä—Å–∞–ª–µ–Ω)
3. **–ù–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è** —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ market_overview
4. **–î–æ–ª–≥–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ** –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞ (–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –Ω–∞ 47—Å)

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### 1. **Batch API Requests** (80% reduction)

**–î–æ:**
```python
# 10 –º–æ–Ω–µ—Ç √ó 2 –∑–∞–ø—Ä–æ—Å–∞ = 20 API calls
for coin in ['solana', 'cardano', 'polkadot', ...]:
    price = await get_crypto_price(coin)        # 1 API call
    extended = await get_extended_market_data(coin)  # 1 API call
```

**–ü–æ—Å–ª–µ:**
```python
# 1 API call –¥–ª—è –≤—Å–µ—Ö –º–æ–Ω–µ—Ç!
top_altcoins = await coingecko_service.get_top_altcoins(limit=30)
# –ü–æ–ª—É—á–∏–ª–∏ —Ü–µ–Ω—ã, ATH, market cap, 24h change - –≤—Å—ë –∑–∞ 1 –∑–∞–ø—Ä–æ—Å
```

**–ù–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã –≤ `CoinGeckoService`:**
- `get_batch_prices(coin_ids)` - —Ü–µ–Ω—ã –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –º–æ–Ω–µ—Ç –∑–∞ 1 –∑–∞–ø—Ä–æ—Å
- `get_batch_coins_data(coin_ids)` - –ø–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∑–∞ 1 –∑–∞–ø—Ä–æ—Å
- `get_top_altcoins(limit, exclude_stablecoins)` - —Ç–æ–ø –∞–ª—å—Ç–∫–æ–∏–Ω—ã –∑–∞ 1 –∑–∞–ø—Ä–æ—Å

---

### 2. **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –∞–ª—å—Ç–∫–æ–∏–Ω–æ–≤**

**–î–æ:**
```python
# –ó–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫
top_alts = ['solana', 'binancecoin', 'cardano', 'avalanche-2',
            'polkadot', 'chainlink', 'polygon', 'arbitrum',
            'optimism', 'sui']
```

**–ü–æ—Å–ª–µ:**
```python
# –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞–µ–º —Ç–æ–ø –ø–æ market cap
top_altcoins = await coingecko_service.get_top_altcoins(
    limit=30,
    exclude_stablecoins=True  # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç USDT, USDC, etc.
)
# –í—Å–µ–≥–¥–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫! –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–∫–ª—é—á–∞–µ—Ç BTC, ETH, —Å—Ç–µ–π–±–ª–∫–æ–∏–Ω—ã
```

**–ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- `get_top_altcoins()` - —Ç–æ–ø –∞–ª—å—Ç–∫–æ–∏–Ω—ã –ø–æ market cap (–≤—Å–µ–≥–¥–∞ —Å–≤–µ–∂–∏–µ)
- `get_coins_by_category()` - –º–æ–Ω–µ—Ç—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- `get_categories_list()` - **709 –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π**

---

### 3. **–ê–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**

**–î–æ:**
```python
# –ö–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å –¥–µ–ª–∞–ª —Ä–µ–∞–ª—å–Ω—ã–µ API calls
result = await get_market_overview()  # 24 API calls –∫–∞–∂–¥—ã–π —Ä–∞–∑
```

**–ü–æ—Å–ª–µ:**
```python
# –ü–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å - —Ä–µ–∞–ª—å–Ω—ã–µ API calls
result1 = await get_market_overview()  # 18 —Å–µ–∫—É–Ω–¥, ~5 API calls

# –í—Ç–æ—Ä–æ–π –∑–∞–ø—Ä–æ—Å - –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –∫—ç—à!
result2 = await get_market_overview()  # 0.00 —Å–µ–∫—É–Ω–¥, 0 API calls
```

**–ö—ç—à —Å–æ smart TTL:**
- `market_overview`: **120 —Å–µ–∫—É–Ω–¥** (2 –º–∏–Ω—É—Ç—ã)
- `price`: 90 —Å–µ–∫—É–Ω–¥
- `markets`: 180 —Å–µ–∫—É–Ω–¥
- `categories_list`: **24 —á–∞—Å–∞** (–ø–æ—á—Ç–∏ –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è)
- `categories`: 1 —á–∞—Å

---

### 4. **Smart Rate Limiter**

**–î–æ:**
```python
# –ü—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞ - –∂–¥–∞–ª –¥–æ 60 —Å–µ–∫—É–Ω–¥!
if len(calls) >= max_calls:
    sleep_time = calls[0] + 60 - now  # –ú–æ–∂–µ—Ç –±—ã—Ç—å 47+ —Å–µ–∫—É–Ω–¥
    await asyncio.sleep(sleep_time)   # –ë–õ–û–ö–ò–†–û–í–ö–ê
```

**–ü–æ—Å–ª–µ:**
```python
# –ú–∞–∫—Å–∏–º—É–º 10 —Å–µ–∫—É–Ω–¥ –æ–∂–∏–¥–∞–Ω–∏—è, –ø–æ—Ç–æ–º –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫—ç—à
try:
    await rate_limiter.acquire(max_wait=10.0)  # Max 10s
except RateLimitExceeded:
    return cached_data  # Graceful degradation
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –í–º–µ—Å—Ç–æ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –Ω–∞ 47—Å ‚Üí **–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** –º–æ–º–µ–Ω—Ç–∞–ª—å–Ω–æ

---

## üéØ –ù–æ–≤—ã–π AI Tool: `get_coins_by_category`

AI —Ç–µ–ø–µ—Ä—å –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∞—Ç—å –º–æ–Ω–µ—Ç—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º! –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã —Ç–∏–ø–∞:
- "–ü–æ–∫–∞–∂–∏ –º–Ω–µ Layer-1 –±–ª–æ–∫—á–µ–π–Ω—ã"
- "–ö–∞–∫–∏–µ –µ—Å—Ç—å DeFi –ø—Ä–æ–µ–∫—Ç—ã?"
- "–¢–æ–ø gaming —Ç–æ–∫–µ–Ω–æ–≤"

### –ü—Ä–∏–º–µ—Ä—ã –∫–∞—Ç–µ–≥–æ—Ä–∏–π (709 –¥–æ—Å—Ç—É–ø–Ω—ã!):

**Blockchain Infrastructure:**
- `layer-1` - Layer 1 blockchains (SOL, ADA, AVAX, DOT)
- `smart-contract-platform` - Smart contract platforms
- `layer-2` - Layer 2 solutions (ARB, OP, MATIC)

**DeFi:**
- `decentralized-finance-defi` - DeFi projects (UNI, AAVE, MKR)
- `decentralized-exchange` - DEX tokens (UNI, SUSHI, CAKE)
- `lending-borrowing` - Lending protocols (AAVE, COMP)
- `yield-farming` - Yield farming protocols

**Ecosystems:**
- `ethereum-ecosystem` - Ethereum ecosystem
- `solana-ecosystem` - Solana ecosystem
- `binance-smart-chain` - BSC ecosystem
- `polygon-ecosystem` - Polygon ecosystem
- `avalanche-ecosystem` - Avalanche ecosystem

**Other:**
- `gaming` - Gaming & Metaverse (AXS, SAND, MANA)
- `oracle` - Oracle networks (LINK, BAND)
- `privacy-coins` - Privacy coins (XMR, ZEC)
- `meme-token` - Meme coins (DOGE, SHIB, PEPE)
- `infrastructure` - Infrastructure projects

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ AI:

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:** "–ü–æ–∫–∞–∂–∏ —Ç–æ–ø Layer-1 –±–ª–æ–∫—á–µ–π–Ω—ã"

**AI –≤—ã–∑—ã–≤–∞–µ—Ç:**
```json
{
  "name": "get_coins_by_category",
  "arguments": {
    "category": "layer-1",
    "limit": 10
  }
}
```

**–ü–æ–ª—É—á–∞–µ—Ç:**
```json
{
  "success": true,
  "category": "layer-1",
  "coins": [
    {"name": "Solana", "symbol": "SOL", "price_usd": 140.18, ...},
    {"name": "Cardano", "symbol": "ADA", "price_usd": 0.47, ...},
    ...
  ]
}
```

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –¢–µ—Å—Ç 1: Batch –º–µ—Ç–æ–¥—ã
```
‚úÖ get_batch_prices: 5 –º–æ–Ω–µ—Ç –∑–∞ 0.44—Å (1 API call)
‚úÖ get_batch_coins_data: 5 –º–æ–Ω–µ—Ç –∑–∞ 0.39—Å (1 API call)
‚úÖ get_top_altcoins: 20 –∞–ª—å—Ç–∫–æ–∏–Ω–æ–≤ –∑–∞ 0.78—Å (1 API call)
üìà Rate Limiter: 3/25 calls (12% usage)
```

### –¢–µ—Å—Ç 2: –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ market_overview
```
–ü–µ—Ä–≤—ã–π –≤—ã–∑–æ–≤:  18.23—Å (—Ä–µ–∞–ª—å–Ω—ã–µ API –∑–∞–ø—Ä–æ—Å—ã)
–í—Ç–æ—Ä–æ–π –≤—ã–∑–æ–≤:  0.00—Å (–∫—ç—à) ‚ö°
–¢—Ä–µ—Ç–∏–π –≤—ã–∑–æ–≤:  0.00—Å (–∫—ç—à –≤—Å—ë –µ—â—ë –≤–∞–ª–∏–¥–µ–Ω) ‚ö°
```

### –¢–µ—Å—Ç 3: –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∞–ª—å—Ç–∫–æ–∏–Ω—ã
```
‚úÖ –ü–æ–ª—É—á–µ–Ω–æ 709 –∫–∞—Ç–µ–≥–æ—Ä–∏–π
‚úÖ Layer-1 –º–æ–Ω–µ—Ç—ã: 8 –º–æ–Ω–µ—Ç
‚úÖ –¢–æ–ø –∞–ª—å—Ç–∫–æ–∏–Ω—ã: BNB, SOL, TRX, ADA, HYPE (–≤—Å–µ–≥–¥–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ)
```

### –¢–µ—Å—Ç 4: Rate Limiter
```
6 –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–æ–¥—Ä—è–¥:
  - 1 —Ä–µ–∞–ª—å–Ω—ã–π API call
  - 5 –∏–∑ –∫—ç—à–∞ (0.00—Å –∫–∞–∂–¥—ã–π)
üìà –§–∏–Ω–∞–ª—å–Ω—ã–µ stats: 1/5 calls (20% usage)
```

---

## üöÄ –ò—Ç–æ–≥–æ–≤–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
- ‚ùå **~24 API –∑–∞–ø—Ä–æ—Å–∞** –Ω–∞ market_overview
- ‚ùå **–î–æ—Å—Ç–∏–≥–∞–ª—Å—è rate limit** ‚Üí 47+ —Å–µ–∫—É–Ω–¥ –æ–∂–∏–¥–∞–Ω–∏—è
- ‚ùå **–ó–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã–µ** 10 –∞–ª—å—Ç–∫–æ–∏–Ω–æ–≤
- ‚ùå **–ù–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è** —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

### –ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
- ‚úÖ **~4-5 API –∑–∞–ø—Ä–æ—Å–æ–≤** (‚¨áÔ∏è **80% reduction**)
- ‚úÖ **–ö—ç—à –Ω–∞ 2 –º–∏–Ω—É—Ç—ã** ‚Üí –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç
- ‚úÖ **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Ç–æ–ø –∞–ª—å—Ç–∫–æ–∏–Ω—ã** (–≤—Å–µ–≥–¥–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ)
- ‚úÖ **Graceful degradation** –ø—Ä–∏ rate limit (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫—ç—à –≤–º–µ—Å—Ç–æ –æ–∂–∏–¥–∞–Ω–∏—è)
- ‚úÖ **709 –∫–∞—Ç–µ–≥–æ—Ä–∏–π** –¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è –ø–æ–∏—Å–∫–∞
- ‚úÖ **7 AI tools** –≤–º–µ—Å—Ç–æ 6

---

## üìù –ö–∞–∫ AI –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### 1. –û–±—ã—á–Ω—ã–π market overview
**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:** "–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å –∫—Ä–∏–ø—Ç–æ—Ä—ã–Ω–∫–æ–º?"

**AI –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `get_market_overview()`
- –ü–æ–ª—É—á–∞–µ—Ç —Ç–æ–ø 15 –∞–ª—å—Ç–∫–æ–∏–Ω–æ–≤ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ (–≤—Å–µ–≥–¥–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ)
- –ö—ç—à —Ä–∞–±–æ—Ç–∞–µ—Ç ‚Üí –≤—Ç–æ—Ä–æ–π –∑–∞–ø—Ä–æ—Å –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–π

### 2. –ü–æ–∏—Å–∫ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:** "–ö–∞–∫–∏–µ –µ—Å—Ç—å DeFi –ø—Ä–æ–µ–∫—Ç—ã?"

**AI –≤—ã–∑—ã–≤–∞–µ—Ç:**
```json
{
  "name": "get_coins_by_category",
  "arguments": {
    "category": "decentralized-finance-defi",
    "limit": 10
  }
}
```

### 3. –¢–æ–ø –∞–ª—å—Ç–∫–æ–∏–Ω—ã
**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:** "–ü–æ–∫–∞–∂–∏ —Ç–æ–ø –∞–ª—å—Ç–∫–æ–∏–Ω—ã –±–µ–∑ –±–∏—Ç–∫–æ–∏–Ω–∞"

**AI –≤—ã–∑—ã–≤–∞–µ—Ç:**
```json
{
  "name": "get_top_cryptos",
  "arguments": {
    "limit": 15,
    "altcoins_only": true  // –ù–æ–≤—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä!
  }
}
```

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ù–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã –≤ CoinGeckoService

```python
# Batch requests (1 call –≤–º–µ—Å—Ç–æ N)
await service.get_batch_prices(['bitcoin', 'ethereum', 'solana'])
await service.get_batch_coins_data(['bitcoin', 'ethereum', 'solana'])

# –¢–æ–ø –∞–ª—å—Ç–∫–æ–∏–Ω—ã —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
await service.get_top_altcoins(
    limit=50,
    exclude_stablecoins=True  # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç USDT, USDC, etc.
)

# –ü–æ–∏—Å–∫ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
await service.get_coins_by_category(
    category='layer-1',
    per_page=20,
    exclude_btc_eth=True
)

# –ö–∞—Ç–µ–≥–æ—Ä–∏–∏
await service.get_categories_list()  # 709 –∫–∞—Ç–µ–≥–æ—Ä–∏–π
await service.get_categories_with_data()  # –° market cap, volume, etc.
```

### Cache TTL —Å—Ç—Ä–∞—Ç–µ–≥–∏—è

```python
CACHE_TTL = {
    "price": 90,              # 90s - –º–µ–Ω—è–µ—Ç—Å—è —á–∞—Å—Ç–æ
    "markets": 180,           # 3min - —Å—Ç–∞–±–∏–ª—å–Ω–µ–µ
    "coin_data": 300,         # 5min
    "categories": 3600,       # 1 —á–∞—Å - —Ä–µ–¥–∫–æ –º–µ–Ω—è–µ—Ç—Å—è
    "categories_list": 86400, # 24 —á–∞—Å–∞ - –ø–æ—á—Ç–∏ —Å—Ç–∞—Ç–∏—á–Ω—ã–µ
}
```

### Rate Limiter —Å max_wait

```python
try:
    await rate_limiter.acquire(max_wait=10.0)
    # –î–µ–ª–∞–µ–º –∑–∞–ø—Ä–æ—Å
except RateLimitExceeded:
    # –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
    return cached_data
```

---

## üéØ –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

1. **–ë—ã—Å—Ç—Ä–µ–µ –≤ 10+ —Ä–∞–∑** –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö (–∫—ç—à)
2. **80% –º–µ–Ω—å—à–µ API calls** (batch requests)
3. **–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∂–¥—ë—Ç 47 —Å–µ–∫—É–Ω–¥** (graceful degradation)
4. **–í—Å–µ–≥–¥–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –∞–ª—å—Ç–∫–æ–∏–Ω—ã** (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ)
5. **709 –∫–∞—Ç–µ–≥–æ—Ä–∏–π** –¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è AI
6. **–£–º–Ω—ã–π –∫—ç—à** —Å differentiated TTL
7. **–ê–≤—Ç–æ—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è** BTC/ETH/—Å—Ç–µ–π–±–ª–∫–æ–∏–Ω–æ–≤

---

## üìö –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã

1. `src/services/coingecko_service.py`:
   - –î–æ–±–∞–≤–ª–µ–Ω—ã batch –º–µ—Ç–æ–¥—ã
   - –î–æ–±–∞–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π
   - –û–±–Ω–æ–≤–ª—ë–Ω rate limiter —Å max_wait
   - –û–±–Ω–æ–≤–ª—ë–Ω cache TTL

2. `src/services/crypto_tools.py`:
   - –û–±–Ω–æ–≤–ª—ë–Ω `get_market_overview()` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∞–ª—å—Ç–∫–æ–∏–Ω—ã
   - –û–±–Ω–æ–≤–ª—ë–Ω `get_top_cryptos()` - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ altcoins_only
   - –î–æ–±–∞–≤–ª–µ–Ω `get_coins_by_category()` - –Ω–æ–≤—ã–π AI tool
   - –î–æ–±–∞–≤–ª–µ–Ω –∫—ç—à –¥–ª—è market_overview (120s TTL)

3. `tests/test_rate_limit_optimization.py`:
   - –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ —Ç–µ—Å—Ç—ã –≤—Å–µ—Ö –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π
   - –¢–µ—Å—Ç—ã batch –º–µ—Ç–æ–¥–æ–≤
   - –¢–µ—Å—Ç—ã –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
   - –¢–µ—Å—Ç—ã rate limiter

---

## üîÆ –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

1. **WebSocket –¥–ª—è —Ä–µ–∞–ª—Ç–∞–π–º —Ü–µ–Ω** (–≤–º–µ—Å—Ç–æ polling)
2. **Redis –¥–ª—è shared –∫—ç—à–∞** (–º–µ–∂–¥—É –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏)
3. **–ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–π background refresh** —Ç–æ–ø –º–æ–Ω–µ—Ç
4. **Pro API upgrade** (500 calls/min –≤–º–µ—Å—Ç–æ 25)

---

**–î–∞—Ç–∞:** 2025-11-19
**–ê–≤—Ç–æ—Ä:** Claude (with ultrathink mode)
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –∏ –≥–æ—Ç–æ–≤–æ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É
