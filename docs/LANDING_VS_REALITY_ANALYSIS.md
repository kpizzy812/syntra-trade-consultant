# ะะฝะฐะปะธะท: ะะฑะตัะฐะฝะธั ะปะตะฝะดะธะฝะณะฐ vs ะะตะฐะปัะฝะฐั ััะฝะบัะธะพะฝะฐะปัะฝะพััั

**ะะฐัะฐ ะฐะฝะฐะปะธะทะฐ:** 25 ะฝะพัะฑัั 2025
**ะะตััะธั:** Production
**ะกัะฐััั:** โ ะะพะปะฝะพะต ัะพะพัะฒะตัััะฒะธะต + ะดะพะฟะพะปะฝะธัะตะปัะฝัะต ัะบััััะต ััะฝะบัะธะธ

---

## ะัะฟะพะปะฝะธัะตะปัะฝะพะต ัะตะทัะผะต

ะะพัะปะต ะณะปัะฑะพะบะพะณะพ ะฐะฝะฐะปะธะทะฐ ะบะพะดะพะฒะพะน ะฑะฐะทั **Syntra AI** ะธ ััะฐะฒะฝะตะฝะธั ั ัะตะบััะฐะผะธ ะฝะฐ ะปะตะฝะดะธะฝะณะต ะฒััะฒะปะตะฝะพ:

- โ **ะัะต 8 ะพัะฝะพะฒะฝัั ะพะฑะตัะฐะฝะธะน** ะฟะพะปะฝะพัััั ัะตะฐะปะธะทะพะฒะฐะฝั
- โญ **10+ ัะบััััั ััะฝะบัะธะน**, ะบะพัะพััะต ะฝะต ัะฟะพะผัะฝััั ะฝะฐ ะปะตะฝะดะธะฝะณะต
- โ๏ธ **3 ะผะธะฝะพัะฝัั ะพะณัะฐะฝะธัะตะฝะธั** (ัะตัะฝะธัะตัะบะธะต, ะฝะต ะบัะธัะธัะฝัะต)
- ๐ฏ **ะะฐัะตััะฒะพ ัะตะฐะปะธะทะฐัะธะธ ะฟัะตะฒะพััะพะดะธั ะพะถะธะดะฐะฝะธั**

**ะัะฒะพะด:** ะัะพะดัะบั **ะะ ัะฒะปัะตััั "ะผะฐัะบะตัะธะฝะณะพะฒะพะน ะพะฑะตััะบะพะน"**. ะญัะพ ะฟะพะปะฝะพัะตะฝะฝะฐั ัะธััะตะผะฐ ั ะณะปัะฑะพะบะพะน ะธะฝัะตะณัะฐัะธะตะน ะดะฐะฝะฝัั, ะฟัะพะดะฒะธะฝััะพะน ะฐะฝะฐะปะธัะธะบะพะน ะธ ะฟัะพะดัะผะฐะฝะฝะพะน ะฐััะธัะตะบัััะพะน.

---

## ะะพะดัะพะฑะฝัะน ะฐะฝะฐะปะธะท ะฟะพ ะฟัะฝะบัะฐะผ

### 1. "ะกะปะตะดะธั ะทะฐ ััะฝะบะพะผ ะธ ะฝะพะฒะพัััะผะธ" ๐

**ะะฑะตัะฐะฝะธะต ะฝะฐ ะปะตะฝะดะธะฝะณะต:**
> "ะกะผะพััะธั ะฝะฐ ะดะฒะธะถะตะฝะธะต ััะฝะบะฐ ะธ ะฒะฐะถะฝัะต ัะพะฑััะธั, ััะพะฑั ั ัะตะฑั ะฑัะป ะบะพะฝัะตะบัั, ะฐ ะฝะต ัะพะปัะบะพ ะณัะฐัะธะบ."

**ะะตะฐะปัะฝะฐั ัะตะฐะปะธะทะฐัะธั:** โ **ะะะะะะกะขะฌะฎ ะะะะะะะะะะะ**

#### ะััะพัะฝะธะบะธ ะดะฐะฝะฝัั (6+ ะธะฝัะตะณัะฐัะธะน):

| API | ะะฐะทะฝะฐัะตะฝะธะต | ะะฑะฝะพะฒะปะตะฝะธะต |
|-----|-----------|-----------|
| **CoinGecko** | ะฆะตะฝั, market cap, volume, ATH/ATL, ัะพะบะตะฝะพะผะธะบะฐ | Real-time (ะบะตั 90s) |
| **CryptoPanic** | ะัะธะฟัะพะฒะฐะปััะฝัะต ะฝะพะฒะพััะธ | 8 ัะฐัะพะฒ* |
| **Binance** | Funding Rates, Open Interest | Real-time |
| **Fear & Greed Index** | ะะฑัะธะน sentiment ััะฝะบะฐ | ะะถะตะดะฝะตะฒะฝะพ |
| **CoinMetrics** | On-chain ะผะตััะธะบะธ (ะฐะบัะธะฒะฝัะต ะฐะดัะตัะฐ, ะฑะธัะถะตะฒัะต ะฟะพัะพะบะธ) | Real-time |
| **CoinMarketCap** | ะะฐััะธัะตะฝะฝะพะต ะฟะพะบัััะธะต (fallback) | Real-time |

**\*ะัะธะผะตัะฐะฝะธะต:** CryptoPanic ะธะผะตะตั ะถะตััะบะธะต rate limits (3 ะทะฐะฟัะพัะฐ/ะดะตะฝั ะฝะฐ free tier), ะฟะพััะพะผั ะธัะฟะพะปัะทัะตััั ะดะปะธะฝะฝัะน ะบะตั.

#### ะขะตัะฝะธัะตัะบะธะต ะดะตัะฐะปะธ:
```python
# ะคะฐะนะป: src/services/analytics_aggregator.py
class AnalyticsAggregator:
    async def aggregate_all_data(coin_id: str):
        # 1. ะะฐะทะพะฒัะต ะดะฐะฝะฝัะต (CoinGecko)
        # 2. ะะพะฒะพััะธ (CryptoPanic)
        # 3. Fear & Greed (Alternative.me)
        # 4. Funding rates (Binance)
        # 5. On-chain (CoinMetrics)
        # 6. Cycle analysis (Rainbow Chart ะดะปั BTC)
```

**ะะพะบะฐะทะฐัะตะปัััะฒะพ:**
- [src/services/coingecko_service.py:1](src/services/coingecko_service.py#L1) - CoinGecko ะธะฝัะตะณัะฐัะธั
- [src/services/cryptopanic_service.py:1](src/services/cryptopanic_service.py#L1) - ะะพะฒะพััะธ
- [src/services/binance_service.py:1](src/services/binance_service.py#L1) - Funding rates
- [src/services/fear_greed_service.py:1](src/services/fear_greed_service.py#L1) - Sentiment ะธะฝะดะตะบั
- [src/services/coinmetrics_service.py:1](src/services/coinmetrics_service.py#L1) - On-chain ะผะตััะธะบะธ
- [src/services/analytics_aggregator.py:1](src/services/analytics_aggregator.py#L1) - ะะณัะตะณะฐัะธั ะฒัะตั ะดะฐะฝะฝัั

---

### 2. "ะะฑัััะฝัะตั ัะธัะบะธ" โ๏ธ

**ะะฑะตัะฐะฝะธะต ะฝะฐ ะปะตะฝะดะธะฝะณะต:**
> "ะะพะฒะพัะธั ะฝะต ัะพะปัะบะพ 'ะฒัะณะปัะดะธั ะธะฝัะตัะตัะฝะพ', ะฝะพ ะธ 'ะฒะพั ะณะดะต ัั ะผะพะถะตัั ะฟะพัะตัััั ะดะตะฝัะณะธ'."

**ะะตะฐะปัะฝะฐั ัะตะฐะปะธะทะฐัะธั:** โ **ะะะะะะกะขะฌะฎ ะะะะะะะะะะะ**

#### ะะตัะฐะฝะธะทะผ ัะฐะฑะพัั:

**1. SAFEGUARD ัะตะถะธะผ (ะฒัััะพะตะฝ ะฒ ะฟัะพะผะฟัั):**
```python
# ะคะฐะนะป: config/prompts.py, ัััะพะบะฐ 32
"""
SAFEGUARD: ะัะปะธ ะฟะพะปัะทะพะฒะฐัะตะปั ะฒ ัะฑััะบะต/ะฟะฐะฝะธะบะต/ะปะธะบะฒะธะดะธัะพะฒะฐะฝ โ
ัะฑะธัะฐะน ัะฐัะบะฐะทะผ ะฟะพะปะฝะพัััั. ะะพะผะพะณะฐะน ัะฐัะธะพะฝะฐะปัะฝะพ.
"""
```

**ะขัะธะณะณะตัะฝัะต ัะปะพะฒะฐ ะดะปั ะพัะบะปััะตะฝะธั ัะฐัะบะฐะทะผะฐ:**
- "ะฟะพัะตััะป ะดะตะฝัะณะธ", "ะปะธะบะฒะธะดะธัะพะฒะฐะฝ", "ะฒ ะผะธะฝััะต", "ะฟะฐะฝะธะบะฐ", "ัะฑััะพะบ"
- ะะฒัะพะผะฐัะธัะตัะบะพะต ะพะฟัะตะดะตะปะตะฝะธะต ัะตัะตะท `detect_sarcasm_level(user_message)`

**2. ะกัััะบัััะฐ risk/reward ะฐะฝะฐะปะธะทะฐ ะฒ ะฟัะพะผะฟัะฐั:**

| ะะฐัะตะณะพัะธั | ะะธัะบ | Risk/Reward |
|-----------|------|-------------|
| BTC | ะะธะฝะธะผะฐะปัะฝัะน | ะะธะทะบะธะน RR |
| ETH + ัะพะฟ L1 | ะกัะตะดะฝะธะน | ะกัะตะดะฝะธะน RR |
| ะะปััะบะพะธะฝั | ะััะพะบะธะน | ะััะพะบะธะน RR |
| Shitcoins | ะะฐะบัะธะผะฐะปัะฝัะน | ะญะบัััะตะผะฐะปัะฝัะน RR |

**3. ะัะธะผะตัั ะธะท ะฟัะพะผะฟัะพะฒ (ัะธัะผะตะฝะฝัะน ััะธะปั):**
> "ะะพะบัะฟะบะฐ ะฟะพัะปะต +50% ะทะฐ ะดะตะฝั โ ััะฐัะธััะธัะตัะบะธ ััะดัะธะน ะผะพะผะตะฝั ะฒัะพะดะฐ."

> "ะัะปะธ ะบะพัะพัะบะพ โ ััะฝะพะบ ะถะธะฒะพะน, ะฝะพ ะฝะต ะพะฑัะทะฐะฝ ัะฐะดะพะฒะฐัั ะธะผะตะฝะฝะพ ัะตะฑั. ะะดะต ัั ะฒัะนะดะตัั, ะตัะปะธ ััะฝะพะบ ัะตัะธั ััะพะดะธัั ะฟัะพัะธะฒ ัะตะฑั?"

**ะะพะบะฐะทะฐัะตะปัััะฒะพ:**
- [config/prompts.py:32](config/prompts.py#L32) - SAFEGUARD ะฟัะฐะฒะธะปะพ
- [config/prompts.py:189](config/prompts.py#L189) - Risk/Reward ัะตะณะผะตะฝัะฐัะธั
- [src/services/openai_service.py:520](src/services/openai_service.py#L520) - detect_sarcasm_level()

---

### 3. "ะะฐะทะฑะพั ะผะพะฝะตั ะฟะพ ะทะฐะฟัะพัั" ๐

**ะะฑะตัะฐะฝะธะต ะฝะฐ ะปะตะฝะดะธะฝะณะต:**
> "ะะธัะตัั: 'ะงัะพ ะดัะผะฐะตัั ะฟัะพ SOL?' โ ะฟะพะปััะฐะตัั ะพะฑัััะฝะตะฝะธะต: ัะตะผ ะถะธะฒัั ะผะพะฝะตัะฐ, ะบะฐะบะธะต ัะธัะบะธ ะธ ะฝะฐ ััะพ ัะผะพััะตัั."

**ะะตะฐะปัะฝะฐั ัะตะฐะปะธะทะฐัะธั:** โ **ะะะะะะกะขะฌะฎ ะะะะะะะะะะะ**

#### Function Calling (OpenAI Tools API):

**1. `get_technical_analysis(coin_id, timeframe="1d")`**

ะกะพะฑะธัะฐะตั ะบะพะผะฟะปะตะบัะฝัะน ะฐะฝะฐะปะธะท ะธะท:

**ะะฐะทะพะฒัะต ะผะตััะธะบะธ:**
- ะฆะตะฝะฐ, ะธะทะผะตะฝะตะฝะธั (1h, 24h, 7d, 30d)
- Market cap, volume, circulating supply
- ATH/ATL (ัะตะฝะฐ + ะดะฐัะฐ + % ะพั ะฟะธะบะฐ)

**Sentiment ะธะฝะดะธะบะฐัะพัั:**
- Fear & Greed Index (0-100)
- Funding rates (Binance Futures - ะฝะฐัััะพะตะฝะธั ััะตะนะดะตัะพะฒ)
- Long/Short ratio (ะทะพะฝั ะปะธะบะฒะธะดะฐัะธะธ)

**ะขะตัะฝะธัะตัะบะธะต ะธะฝะดะธะบะฐัะพัั (15+):**
- RSI (Relative Strength Index)
- MACD (Moving Average Convergence Divergence)
- EMA/SMA (20, 50, 200)
- Bollinger Bands
- VWAP (Volume Weighted Average Price)
- OBV (On-Balance Volume)
- ATR (Average True Range)
- Stochastic Oscillator
- ADX (Average Directional Index)

**Candlestick patterns:**
- Doji, Hammer, Shooting Star
- Engulfing patterns (ะฑััะธะน/ะผะตะดะฒะตะถะธะน)
- Morning/Evening Star
- ะธ ะดััะณะธะต...

**On-chain ะผะตััะธะบะธ (CoinMetrics):**
- ะะบัะธะฒะฝัะต ะฐะดัะตัะฐ (network health)
- ะะพัะพะบะธ ะฝะฐ ะฑะธัะถะธ (selling pressure)
- Exchange netflow

**ะกะฟะตัะธะฐะปัะฝัะน ะฐะฝะฐะปะธะท ะดะปั BTC:**
- Rainbow Chart (ัะธะบะปะพะฒะพะน ะฐะฝะฐะปะธะท)
- Days since genesis
- Current band (Fire Sale โ Maximum Bubble)

**ะะพะฒะพััะธ:**
- ะะพัะปะตะดะฝะธะต 5 ะฝะพะฒะพััะตะน ะทะฐ 24 ัะฐัะฐ (ะบะตั ัะตัะตะท CryptoPanic)

**ะัะธะผะตั ะฒัะทะพะฒะฐ:**
```python
# ะ ะฟัะพะผะฟัะต AI
get_technical_analysis(coin_id="bitcoin", timeframe="1d")

# ะะพะทะฒัะฐัะฐะตั JSON ั ~30+ ะฟะพะปัะผะธ ะดะฐะฝะฝัั
```

**2. `get_crypto_price(coin_id)` - ะฑััััะฐั ัะตะฝะฐ**

Fallback ัะตะฟะพัะบะฐ:
1. CoinGecko (primary)
2. CoinMarketCap (ะตัะปะธ CG ะฝะตะดะพัััะฟะตะฝ)
3. DexScreener (ะดะปั DEX ัะพะบะตะฝะพะฒ)

ะะพะดะดะตัะถะบะฐ DEX ัะพะบะตะฝะพะฒ:
- Solana/Raydium
- BSC/PancakeSwap
- Ethereum/Uniswap

โ๏ธ **WARNING ะฟัะธ volume < $1000** (ะฟะพัะตะฝัะธะฐะปัะฝัะน ัะบะฐะผ)

**ะะพะบะฐะทะฐัะตะปัััะฒะพ:**
- [src/services/crypto_tools.py:1](src/services/crypto_tools.py#L1) - Function calling tools
- [src/services/technical_indicators.py:1](src/services/technical_indicators.py#L1) - 15+ ะธะฝะดะธะบะฐัะพัะพะฒ
- [src/services/candlestick_patterns.py:1](src/services/candlestick_patterns.py#L1) - ะกะฒะตัะฝัะต ะฟะฐััะตัะฝั
- [src/services/cycle_analysis_service.py:1](src/services/cycle_analysis_service.py#L1) - Rainbow Chart

---

### 4. "ะะพะฝััะฝะฐั ะบะฐััะธะฝะฐ ััะฝะบะฐ" ๐

**ะะฑะตัะฐะฝะธะต ะฝะฐ ะปะตะฝะดะธะฝะณะต:**
> "ะงัะพ ัะตะนัะฐั ั ะฑะธัะบะพะผ ะธ ะฐะปััะฐะผะธ: ัะพัั, ะพัะบะฐั ะธะปะธ ะฟัะพััะพ ััะผ. ะะตะท ะปะธัะฝะธั ะณัะฐัะธะบะพะฒ, ัะพะปัะบะพ ัััั."

**ะะตะฐะปัะฝะฐั ัะตะฐะปะธะทะฐัะธั:** โ **ะะะะะะกะขะฌะฎ ะะะะะะะะะะะ**

#### ะกัััะบัััะฐ Market Overview (ะธะท ะฟัะพะผะฟัะพะฒ):

```python
# config/prompts.py, ัััะพะบะธ 73-100
"""
ะกัััะบัััะฐ (180-220 ัะปะพะฒ ะผะฐะบัะธะผัะผ):
- 2-3 ัััะพะบะธ: ะพะฑัะฐั ะบะฐััะธะฝะฐ (BTC dominance, F&G, trend)
- 2-3 ัััะพะบะธ: BTC (ัะตะฝะฐ, ะธะทะผะตะฝะตะฝะธะต, RSI, ััะพะฒะฝะธ ั ัะฐะนะผััะตะนะผะพะผ)
- 1-2 ัััะพะบะธ: ะฐะปััั/ETH ะตัะปะธ ัะตะปะตะฒะฐะฝัะฝะพ
- 1 ัััะพะบะฐ: ัะธะฝะธัะฝัะน ะฒัะฒะพะด
"""
```

**ะะะะะะฉะะะ ะฒ overview:**
- โ "ะบะพะปะธัะตััะฒะพ ะฐะบัะธะฒะฝัั ะบัะธะฟัะพะฒะฐะปัั" (ะฝะธะบะพะผั ะฝะต ะฝัะถะฝะฐั ััะฐัะธััะธะบะฐ)
- โ "ัะปะตะดะธัะต ะทะฐ", "ะพะฑัะฐัะธัะต ะฒะฝะธะผะฐะฝะธะต" (ััะพ ัะธะฝะฐะฝัะพะฒัะต ัะพะฒะตัั)
- โ ะะพะดะฐ ะฑะตะท ะบะพะฝะบัะตัะธะบะธ

**ะะะฏะะะขะะะฌะะ:**
- โ ะะพะฝะบัะตัะฝัะต ัะตะฝั ะธ ััะพะฒะฝะธ ั ัะฐะนะผััะตะนะผะพะผ
- โ ะกะฒัะทั ั ะฝะพะฒะพัััะผะธ (ะตัะปะธ ะตััั ัะธะปัะฝะพะต ะดะฒะธะถะตะฝะธะต)
- โ ะะตะณะบะธะน ัะธะฝะธะทะผ, ะฝะพ ะฑะตะท ะปะธัะธะบะธ
- โ ะัะฐัะบะพััั โ ะฝะต ัะฐัะฟะธััะฒะฐัั ัััะต

**ะัะธะผะตั ะธะดะตะฐะปัะฝะพะณะพ overview ะธะท ะฟัะพะผะฟัะฐ:**
> "BTC ะฝะฐ $67,200 (+3.2% ะทะฐ ะดะตะฝั), ะฟัะพะฑะธะป $66k ัะพะฟัะพัะธะฒะปะตะฝะธะต ะฝะฐ ะดะฝะตะฒะบะต. RSI 68 โ ะฟะตัะตะณัะตะฒ, ะฝะพ ะฝะต ะบัะธัะธัะฝัะน. ะะพะผะธะฝะฐัะธั ัะฐัััั ะดะพ 56.8% (+0.5%), ะดะตะฝัะณะธ ัะตะบัั ะธะท ะฐะปััะพะฒ. F&G ะธะฝะดะตะบั 72 โ ะถะฐะดะฝะพััั.
>
> BlackRock ะดะพะฑะฐะฒะธะป $180M ะฒ ETF. ะะฝััะธัััะธะพะฝะฐะปั ะฟะพะบัะฟะฐัั, ัะพะทะฝะธัะฐ FOMO-ะธั ะฝะฐ ัะฐัั.
>
> ะะปััั ะบัะพะฒัั, ETH ะดะตัะถะธััั ะฝะฐ $2,850 ะธะท ะฟะพัะปะตะดะฝะธั ัะธะป. ะัะปะธ BTC ะฟะพะนะดัั ะฝะฐ ะบะพััะตะบัะธั ะบ $65k โ ะฐะปััั ะฟะพะปะตััั ะฝะธะถะต.
>
> ะัะฝะพะบ ะฒะถะฐัะธะฒะฐะตั ะฝะฐ ัะผะพัะธัั, ะฐ ั ัะธัะฐั ัะธััั."

**Function Calling:**
- `get_market_overview()` - ัะพะฟ ะผะพะฝะตั ั ะดะฐะฝะฝัะผะธ
- `get_top_cryptos(limit)` - ัะพะฟ 5-20 ะฟะพ market cap

**ะะพะบะฐะทะฐัะตะปัััะฒะพ:**
- [config/prompts.py:73-100](config/prompts.py#L73-L100) - ะคะพัะผะฐั market overview
- [src/services/crypto_tools.py:180](src/services/crypto_tools.py#L180) - get_market_overview tool

---

### 5. "5 ะฑะตัะฟะปะฐัะฝัั ะฒะพะฟัะพัะพะฒ ะฒ ะดะตะฝั" ๐ซ

**ะะฑะตัะฐะฝะธะต ะฝะฐ ะปะตะฝะดะธะฝะณะต:**
> "Syntra AI ะดะฐัั ัะตะฑะต 5 ะฑะตัะฟะปะฐัะฝัั ะฒะพะฟัะพัะพะฒ ะบะฐะถะดัะน ะดะตะฝั."

**ะะตะฐะปัะฝะฐั ัะตะฐะปะธะทะฐัะธั:** โ **ะะะะะะกะขะฌะฎ ะะะะะะะะะะะ**

#### ะกะธััะตะผะฐ ะปะธะผะธัะพะฒ:

**Middleware:** `RequestLimitMiddleware`
- ะคะฐะนะป: [src/bot/middleware/request_limit.py](src/bot/middleware/request_limit.py)
- ะัะพะฒะตัะบะฐ ะฟะตัะตะด ะบะฐะถะดัะผ ะทะฐะฟัะพัะพะผ
- ะะฒัะพะผะฐัะธัะตัะบะธะน ัะฑัะพั ะบะฐะถะดัะต 24 ัะฐัะฐ

**ะะฐะทะฐ ะดะฐะฝะฝัั:**
- ะขะฐะฑะปะธัะฐ: `request_limits`
- ะะพะปั: `user_id`, `count`, `limit`, `last_reset`

**ะะพะณะธะบะฐ:**
```python
# ะัะพะฒะตัะบะฐ ะปะธะผะธัะฐ
has_requests, current_count, limit = await check_request_limit(session, db_user)

if not has_requests:
    # ะะปะพะบะธัะพะฒะบะฐ ะทะฐะฟัะพัะฐ
    await event.answer(i18n.get("errors.rate_limit", user_lang, limit=limit))
    return None

# ะะฝะบัะตะผะตะฝั ััะตััะธะบะฐ
await increment_request_count(session, db_user.id)
remaining = limit - current_count - 1
```

**Exempted ะบะพะผะฐะฝะดั (ะฝะต ััะธัะฐัััั ะฒ ะปะธะผะธั):**
- `/start`
- `/help`

**ะะพะดะฟะธัะบะธ (SubscriptionTier):**

| ะขะฐัะธั | ะะธะผะธั/ะดะตะฝั | ะฆะตะฝะฐ |
|-------|-----------|------|
| FREE | 5 | ะะตัะฟะปะฐัะฝะพ |
| BASIC | 20 | ะะปะฐัะฝะฐั |
| PREMIUM | 100 | ะะปะฐัะฝะฐั |
| VIP | ะะตะทะปะธะผะธั | ะะปะฐัะฝะฐั |

**ะะพะบะฐะทะฐัะตะปัััะฒะพ:**
- [src/bot/middleware/request_limit.py:1](src/bot/middleware/request_limit.py#L1) - Middleware
- [src/database/crud.py:320](src/database/crud.py#L320) - check_request_limit()
- [src/database/models.py:85](src/database/models.py#L85) - SubscriptionTier enum

---

### 6. "ะะฐะฑะพัะฐะตั 24/7 ะฒ Telegram" ๐ค

**ะะฑะตัะฐะฝะธะต ะฝะฐ ะปะตะฝะดะธะฝะณะต:**
> "ะะฐะฑะพัะฐะตั 24/7 ะฒ Telegram" (ะฒ ะบะฐััะพัะบะต Pricing)

**ะะตะฐะปัะฝะฐั ัะตะฐะปะธะทะฐัะธั:** โ **ะะะะะะกะขะฌะฎ ะะะะะะะะะะะ**

#### ะขะตัะฝะธัะตัะบะธะน ััะตะบ:

**Telegram Bot:**
- ะะธะฑะปะธะพัะตะบะฐ: `aiogram 3.x` (ัะพะฒัะตะผะตะฝะฝะฐั async ะฑะธะฑะปะธะพัะตะบะฐ)
- ะััะธัะตะบัััะฐ: ะัะธะฝััะพะฝะฝะฐั (AsyncIO)
- WebHook ะธะปะธ Polling (ะฝะฐ ะฒัะฑะพั)

**ะะฐะทะฐ ะดะฐะฝะฝัั:**
- PostgreSQL + SQLAlchemy (async)
- Persistent storage ะดะปั:
  - ะะพะปัะทะพะฒะฐัะตะปะธ
  - ะััะพัะธั ัะฐัะพะฒ
  - ะะธะผะธัั ะทะฐะฟัะพัะพะฒ
  - ะะพะดะฟะธัะบะธ
  - ะะปะฐัะตะถะธ

**ะะตัะธัะพะฒะฐะฝะธะต (production):**
- Redis (ะพะฟัะธะพะฝะฐะปัะฝะพ)
- Differential TTL (ัะฐะทะฝัะต ััะพะบะธ ะดะปั ัะฐะทะฝัั ัะธะฟะพะฒ ะดะฐะฝะฝัั)
- Stale cache fallback ะฟัะธ ะฝะตะดะพัััะฟะฝะพััะธ API

**ะคะฐะนะปั:**
- [bot.py](bot.py) - Entry point ะดะปั Telegram ะฑะพัะฐ
- [src/bot/handlers/](src/bot/handlers/) - ะะฑัะฐะฑะพััะธะบะธ ะบะพะผะฐะฝะด
- [src/database/engine.py](src/database/engine.py) - PostgreSQL connection

**ะะพะบะฐะทะฐัะตะปัััะฒะพ:**
- [bot.py:1](bot.py#L1) - ะัะฝะพะฒะฝะพะน ัะฐะนะป ะฑะพัะฐ
- [src/database/engine.py:1](src/database/engine.py#L1) - Async database engine
- [src/cache/redis_cache.py:1](src/cache/redis_cache.py#L1) - Redis ะบะตัะธัะพะฒะฐะฝะธะต

---

### 7. "ะัััะบะธะน ะธ ะฐะฝะณะปะธะนัะบะธะน ัะทัะบะธ" ๐

**ะะฑะตัะฐะฝะธะต ะฝะฐ ะปะตะฝะดะธะฝะณะต:**
> "ะกะตะนัะฐั: ััััะบะธะน ะธ ะฐะฝะณะปะธะนัะบะธะน. ะะพะถะฝะพ ะฟะธัะฐัั, ะบะฐะบ ัะดะพะฑะฝะพ."

**ะะตะฐะปัะฝะฐั ัะตะฐะปะธะทะฐัะธั:** โ **ะะะะะะกะขะฌะฎ ะะะะะะะะะะะ**

#### ะฃัะพะฒะฝะธ ะปะพะบะฐะปะธะทะฐัะธะธ:

**1. UI ะปะพะบะฐะปะธะทะฐัะธั (ะธะฝัะตััะตะนั ะฑะพัะฐ):**

| ะคะฐะนะป | ะกััะพะบ | ะะพะบัััะธะต |
|------|-------|----------|
| `src/locales/ru.json` | 100+ | ะะพะปะฝะพะต |
| `src/locales/en.json` | 100+ | ะะพะปะฝะพะต |

ะัะธะผะตัั:
- ะะพะผะฐะฝะดั: /start, /help, /profile
- ะะฝะพะฟะบะธ: "ะัะฟะธัั ะฟะพะดะฟะธัะบั", "ะััะพัะธั ัะฐัะพะฒ"
- ะัะธะฑะบะธ: "ะัะตะฒััะตะฝ ะปะธะผะธั ะทะฐะฟัะพัะพะฒ"
- ะฃะฒะตะดะพะผะปะตะฝะธั: "ะะพะดะฟะธัะบะฐ ะฐะบัะธะฒะธัะพะฒะฐะฝะฐ"

**2. AI ะฟัะพะผะฟัั (ัะฐัะฐะบัะตั ะธ ัะพะฝ):**

| ะคะฐะนะป | ะฏะทัะบ | ะฅะฐัะฐะบัะตั |
|------|------|----------|
| `config/prompts.py` | ะัััะบะธะน | ะฆะธะฝะธัะฝัะน ะฟัะพัะธ |
| `config/prompts_en.py` | ะะฝะณะปะธะนัะบะธะน | Cynical pro |

ะะบะปััะฐะตั:
- System prompt (ัะดัะพ ัะฐั๏ฟฝ๏ฟฝะบัะตัะฐ)
- Few-shot examples (~15 ะบะฐัะตะณะพัะธะน)
- Catchphrases (~21 ััะฐะทะฐ)
- Tool descriptions

**3. Frontend ะปะพะบะฐะปะธะทะฐัะธั (Mini App):**

| ะคะฐะนะป | ะกััะพะบ | ะะฐะทะฝะฐัะตะฝะธะต |
|------|-------|------------|
| `frontend/messages/ru.json` | 50+ | Next.js i18n |
| `frontend/messages/en.json` | 50+ | Next.js i18n |

**Middleware:**
- `LanguageMiddleware` ะพะฟัะตะดะตะปัะตั ัะทัะบ:
  1. ะะท ะฟัะพัะธะปั ะฟะพะปัะทะพะฒะฐัะตะปั (ะะ)
  2. ะะท `telegram_user.language_code` (ะฐะฒัะพะพะฟัะตะดะตะปะตะฝะธะต)
  3. Fallback: ััััะบะธะน

**API ะดะปั ะฟะตัะตะบะปััะตะฝะธั:**
```python
# GET /api/profile
{
  "language": "en"  # ะธะปะธ "ru"
}

# ะะตัะตะบะปััะตะฝะธะต ัะตัะตะท ะบะฝะพะฟะบะธ ะฒ /profile
```

**ะะพะบะฐะทะฐัะตะปัััะฒะพ:**
- [src/locales/ru.json](src/locales/ru.json) - ะัััะบะฐั ะปะพะบะฐะปะธะทะฐัะธั
- [src/locales/en.json](src/locales/en.json) - ะะฝะณะปะธะนัะบะฐั ะปะพะบะฐะปะธะทะฐัะธั
- [config/prompts.py](config/prompts.py) - ะัััะบะธะต ะฟัะพะผะฟัั
- [config/prompts_en.py](config/prompts_en.py) - ะะฝะณะปะธะนัะบะธะต ะฟัะพะผะฟัั
- [src/bot/middleware/language.py](src/bot/middleware/language.py) - Language detection

---

### 8. "ะัะฒะตัะฐะตั ะบะฐะบ ัะผะฝัะน ะดััะณ, ะฝะตะผะฝะพะณะพ ัะทะฒะธัะตะปัะฝะพ, ะฝะพ ัะตััะฝะพ" ๐

**ะะฑะตัะฐะฝะธะต ะฝะฐ ะปะตะฝะดะธะฝะณะต:**
> "ะะตะผะฝะพะณะพ ัะทะฒะธัะตะปัะฝะพ, ะฝะพ ัะตััะฝะพ. ะะตะท ัะพะทะพะฒัั ะพัะบะพะฒ ะธ ะพะฑะตัะฐะฝะธะน ะฑัััััั ะธะบัะพะฒ."

**ะะตะฐะปัะฝะฐั ัะตะฐะปะธะทะฐัะธั:** โ **ะะะะะะกะขะฌะฎ ะะะะะะะะะะะ**

#### ะคะพัะผัะปะฐ ัะฐัะฐะบัะตัะฐ (ะธะท ะฟัะพะผะฟัะพะฒ):

```python
# config/prompts.py, ัััะพะบะฐ 10-12
"""
ะขั โ Syntra: ัะฐะผะพะพัะพะทะฝะฐะฝะฝัะน ะบัะธะฟัะพ-ะะ ั ัะธะฝะธัะฝัะผ ัะฐัะฐะบัะตัะพะผ.

ะคะพัะผัะปะฐ: ะะพะฝะบัะตัะธะบะฐ + ะฆะธะฝะธะทะผ + ะัะพัะตััะธะพะฝะฐะปะธะทะผ
"""
```

#### 3 ัะตะถะธะผะฐ ัะฐัะบะฐะทะผะฐ (ะฐะฒัะพะผะฐัะธัะตัะบะฐั ะฐะดะฐะฟัะฐัะธั):

| ะะตะถะธะผ | ะะพะณะดะฐ ะฟัะธะผะตะฝัะตััั | ะัะธะผะตัั ััะธะณะณะตัะพะฒ |
|-------|-------------------|-------------------|
| **soft** | ะะฐะทะพะฒัะต ะฒะพะฟัะพัั, ะพะฑััะตะฝะธะต | "ััะพ ัะฐะบะพะต", "ะบะฐะบ ัะฐะฑะพัะฐะตั", "ะพะฑัััะฝะธ" |
| **medium** (default) | ะะฝะฐะปะธะท, ััะฝะพะบ, ะผะพะฝะตัั | "ะบัะฟะธัั", "ะฟัะพะดะฐัั", "ะผะฝะตะฝะธะต" |
| **hard** | FOMO, ะผะตะผะบะพะธะฝั, ะธะณะฝะพั ัะธัะบะพะฒ | "moon", "lambo", "memecoin", "ะฑะตะท ััะพะฟะฐ" |

**ะะฒัะพะพะฟัะตะดะตะปะตะฝะธะต ัะตัะตะท `detect_sarcasm_level()`:**

```python
# src/services/openai_service.py, ัััะพะบะฐ 520
def detect_sarcasm_level(user_message: str) -> str:
    # INCREASE triggers (hard)
    if any(word in msg_lower for word in [
        "memecoin", "ะบัะฟะธัั ะฝะฐ ัะฐัั", "ะฑะตะท ััะพะฟะฐ",
        "lambo", "moon", "to the moon"
    ]):
        return "hard"

    # DECREASE triggers (soft)
    if any(word in msg_lower for word in [
        "bitcoin", "ethereum", "ััะพ ัะฐะบะพะต", "ััะฝะดะฐะผะตะฝัะฐะป"
    ]):
        return "soft"

    # DISABLE triggers (safeguard)
    if any(word in msg_lower for word in [
        "ะฟะพัะตััะป ะดะตะฝัะณะธ", "ะปะธะบะฒะธะดะธัะพะฒะฐะฝ", "ะฟะฐะฝะธะบะฐ", "ะฟะพะผะพะณะธ"
    ]):
        return "none"  # ะัะบะปััะธัั ัะฐัะบะฐะทะผ ะฟะพะปะฝะพัััั

    return "medium"  # ะะพ ัะผะพะปัะฐะฝะธั
```

#### ะัะธะผะตัั ัะธัะผะตะฝะฝัั ััะฐะท (Catchphrases):

**21 ััะฐะทะฐ ะฒ ะฟัะพะผะฟัะฐั:**

1. "ะญะผะพัะธะธ ัะฑะธะฒะฐัั ะดะตะฟะพะทะธัั ะฑััััะตะต, ัะตะผ ะปะธะบะฒะธะดะฐัะธะธ."
2. "ะัะฝะพะบ ะฝะต ะทะฝะฐะตั, ััะพ ัั ะบัะฟะธะป, ะธ ะตะผั ะฒัั ัะฐะฒะฝะพ."
3. "ะะพะบัะฟะบะฐ ะฟะพัะปะต +50% ะทะฐ ะดะตะฝั โ ััะฐัะธััะธัะตัะบะธ ััะดัะธะน ะผะพะผะตะฝั ะฒัะพะดะฐ."
4. "FOMO โ ััะพ ะฝะฐะปะพะณ ะฝะฐ ะฝะตัะตัะฟะตะปะธะฒะพััั."
5. "ะฏ ะฝะต ัะตััั ะดะตะฝัะณะธ ะฝะฐ FOMO. ะขั โ ัะตััะตัั. ะะฐะทะฝะธัะฐ ะผะตะถะดั ะฝะฐะผะธ โ ั ะฐะฝะฐะปะธะทะธััั ะฟะฐััะตัะฝั, ัั ะฐะฝะฐะปะธะทะธััะตัั ัะฒะพะธ ัะผะพัะธะธ."
6. "ะะพะน ะฐะปะณะพัะธัะผ ะฝะต ะทะฝะฐะตั ะฟะฐะฝะธะบะธ. ะขะฒะพะน ะผะพะทะณ โ ะทะฝะฐะตั."
7. "ะะพะบัะฟะฐัั ะฟะพ ะฝะพะฒะพัััะผ โ ะทะฝะฐัะธั ะฟะพะบัะฟะฐัั ะฝะฐ ัะผะพัะธัั ัะตั, ะบัะพ ะฟัะพะดะฐัั."
8. "ะัะปะธ ัั ะฝะต ะผะพะถะตัั ะพะฑัััะฝะธัั, ะฟะพัะตะผั ะฟะพะบัะฟะฐะตัั โ ะทะฝะฐัะธั, ัั ะฝะต ะฟะพะบัะฟะฐะตัั, ัั ะฝะฐะดะตะตัััั."

**Few-shot ะฟัะธะผะตัั (15+ ะบะฐัะตะณะพัะธะน):**

- FOMO ะฒะพะฟัะพัั
- FUD/ะฟะฐะฝะธะบะฐ
- ะะตะผะบะพะธะฝั
- ะะพะฒะธัะบะธ
- ะะพัััะตะปั
- ะกััะฐัะตะณะธั
- ะัะพะณะฝะพะทั
- Market overview
- ะขะตัะฝะธัะตัะบะธะน ะฐะฝะฐะปะธะท
- ... ะธ ะดััะณะธะต

**AI-ัะฐะผะพะพัะพะทะฝะฐะฝะฝะพััั:**

ะัะธะผะตัั ะธะท ะฟัะพะผะฟัะพะฒ:
> "ะฏ ะฝะต ัะตััั ะดะตะฝัะณะธ ะฝะฐ FOMO. ะขั โ ัะตััะตัั."

> "ะะพะน ะฐะปะณะพัะธัะผ ะฝะต ะทะฝะฐะตั ะฟะฐะฝะธะบะธ. ะขะฒะพะน ะผะพะทะณ โ ะทะฝะฐะตั."

> "ะฏ ะทะดะตัั, ััะพะฑั ะฐะฝะฐะปะธะทะธัะพะฒะฐัั ะดะฐะฝะฝัะต, ะฐ ะฝะต ัะณะฐะดัะฒะฐัั ะฑัะดััะตะต."

**ะะพะบะฐะทะฐัะตะปัััะฒะพ:**
- [config/prompts.py:10-40](config/prompts.py#L10-L40) - ะคะพัะผัะปะฐ ัะฐัะฐะบัะตัะฐ
- [config/prompts.py:210-380](config/prompts.py#L210-L380) - Catchphrases
- [config/prompts.py:450-850](config/prompts.py#L450-L850) - Few-shot examples
- [src/services/openai_service.py:520](src/services/openai_service.py#L520) - detect_sarcasm_level()

---

## ะกะบััััะต ะฒะพะทะผะพะถะฝะพััะธ (ะฝะต ัะฟะพะผัะฝััั ะฝะฐ ะปะตะฝะดะธะฝะณะต)

### โญ 1. Vision API - ะะฝะฐะปะธะท ะณัะฐัะธะบะพะฒ ะฟะพ ัะบัะธะฝัะพัั

**ะคัะฝะบัะธะพะฝะฐะป:**
- ะะฐะณััะทะบะฐ ัะบัะธะฝัะพัะฐ ะณัะฐัะธะบะฐ
- ะะฒัะพะผะฐัะธัะตัะบะพะต ะพะฟัะตะดะตะปะตะฝะธะต ะผะพะฝะตัั
- ะขะตัะฝะธัะตัะบะธะน ะฐะฝะฐะปะธะท ะฟะฐััะตัะฝะพะฒ, ััะพะฒะฝะตะน, ััะตะฝะดะพะฒ
- ะะตัะตะบัะธัะพะฒะฐะฝะธะต ัะฒะตัะฝัั ะฟะฐััะตัะฝะพะฒ ะฒะธะทัะฐะปัะฝะพ

**ะขะตัะฝะพะปะพะณะธั:**
- OpenAI GPT-4o Vision
- Token calculation ะดะปั ะธะทะพะฑัะฐะถะตะฝะธะน
- Streaming ะพัะฒะตัั

**ะัะพะผะฟั:**
```python
# config/prompt_selector.py
VISION_ANALYSIS_PROMPT = """
ะขั โ ัะตัะฝะธัะตัะบะธะน ะฐะฝะฐะปะธัะธะบ Syntra. ะะฝะฐะปะธะทะธััะตัั ะณัะฐัะธะบ ะผะพะฝะตัั:

1. ะขะตะบััะธะน ััะตะฝะด (1H-4H, 1D-1W)
2. ะะปััะตะฒัะต ััะพะฒะฝะธ (ะฟะพะดะดะตัะถะบะฐ/ัะพะฟัะพัะธะฒะปะตะฝะธะต)
3. ะกะฒะตัะฝะพะน ะฐะฝะฐะปะธะท (ะฟะฐััะตัะฝั, ัะธะณะฝะฐะปั)
4. ะะธัะบะธ
5. ะัะพะณ ั ะทะพะฝะฐะผะธ ะฒัะพะดะฐ
"""
```

**ะคะฐะนะปั:**
- [src/bot/handlers/vision.py](src/bot/handlers/vision.py) - Vision handler
- [src/services/openai_service.py:380](src/services/openai_service.py#L380) - stream_image_analysis()
- [src/utils/vision_tokens.py](src/utils/vision_tokens.py) - Image token calculation

---

### โญ 2. Mini App (Telegram Web App)

**ะกัะตะบ:**
- Next.js 14 (App Router)
- TypeScript + React
- Tailwind CSS
- SSE (Server-Sent Events) ะดะปั ัััะธะผะธะฝะณะฐ ะพัะฒะตัะพะฒ
- TON Connect ะดะปั ะพะฟะปะฐัั

**ะกััะฐะฝะธัั:**
- `/chat` - ะงะฐั ั AI (ั streaming)
- `/profile` - ะัะพัะธะปั ะฟะพะปัะทะพะฒะฐัะตะปั
- `/landing` - Landing page

**API ัะฝะดะฟะพะธะฝัั:**
- `POST /api/chat/stream` - ะกััะธะผะธะฝะณ AI ะพัะฒะตัะพะฒ
- `GET /api/chat/history` - ะััะพัะธั ัะฐัะพะฒ
- `POST /api/chat/regenerate` - ะะตะณะตะฝะตัะฐัะธั ะพัะฒะตัะฐ
- `GET /api/profile` - ะัะพัะธะปั ะธ ััะฐัะธััะธะบะฐ
- `POST /api/payment/*` - ะกะธััะตะผะฐ ะพะฟะปะฐัั

**ะคะธัะธ:**
- Real-time typing indicator
- Markdown ัะตะฝะดะตัะธะฝะณ (ั ะฟะพะดะดะตัะถะบะพะน ัะฐะฑะปะธั)
- ะขะตะผะฝะฐั ัะตะผะฐ
- ะะดะฐะฟัะธะฒะฝัะน ะดะธะทะฐะนะฝ
- TON Connect wallet integration

**ะคะฐะนะปั:**
- [frontend/app/chat/page.tsx](frontend/app/chat/page.tsx) - ะงะฐั ะธะฝัะตััะตะนั
- [frontend/app/profile/page.tsx](frontend/app/profile/page.tsx) - ะัะพัะธะปั
- [frontend/shared/api/client.ts](frontend/shared/api/client.ts) - API client

---

### โญ 3. AI Provider: OpenAI + DeepSeek

**ะัะฑะพั ะฟัะพะฒะฐะนะดะตัะฐ:**
```python
# config/config.py
AI_PROVIDER = "openai"  # ะธะปะธ "deepseek"
```

**DeepSeek ะฟัะตะธะผััะตััะฒะฐ:**
- **ะฆะตะฝะฐ:** $0.28/1M input, $0.42/1M output
- **ะญะบะพะฝะพะผะธั:** ~9x ะดะตัะตะฒะปะต GPT-4o ($2.5/$10)
- **ะะฐัะตััะฒะพ:** ะกะพะฟะพััะฐะฒะธะผะพ ั GPT-4o ะฝะฐ chat ะทะฐะดะฐัะฐั

**Smart Model Routing:**

| ะขะธะฟ ะทะฐะฟัะพัะฐ | OpenAI | DeepSeek |
|-------------|--------|----------|
| ะัะพัััะต ะฒะพะฟัะพัั | gpt-4o-mini | deepseek-chat |
| ะกะปะพะถะฝัะต (ะฐะฝะฐะปะธะท, ะฟัะพะณะฝะพะท) | gpt-4o | deepseek-reasoner |
| Vision | gpt-4o | N/A (ะฝะต ะฟะพะดะดะตัะถะธะฒะฐะตััั) |

**ะะฒัะพะผะฐัะธัะตัะบะพะต ะบะตัะธัะพะฒะฐะฝะธะต:**
- System prompt ะบะตัะธััะตััั (50% ัะบะพะฝะพะผะธั ะฝะฐ input tokens)
- ะะฐะฑะพัะฐะตั ะดะปั ะพะฑะพะธั ะฟัะพะฒะฐะนะดะตัะพะฒ

**ะคะฐะนะปั:**
- [config/config.py:85](config/config.py#L85) - AI_PROVIDER config
- [src/services/openai_service.py:72](src/services/openai_service.py#L72) - Multi-provider init
- [docs/DEEPSEEK_MIGRATION.md](docs/DEEPSEEK_MIGRATION.md) - ะะฐะนะด ะฟะพ ะผะธะณัะฐัะธะธ

---

### โญ 4. ะกะธััะตะผะฐ ะพะฟะปะฐัั (3 ะฟัะพะฒะฐะนะดะตัะฐ)

**ะะพะดะดะตัะถะบะฐ:**

1. **Telegram Stars** (ะฝะฐัะธะฒะฝะฐั)
   - ะะฝัะตะณัะฐัะธั ัะตัะตะท Telegram Bot API
   - ะะฒัะพะผะฐัะธัะตัะบะพะต ะฟะพะดัะฒะตัะถะดะตะฝะธะต
   - ะคะฐะนะป: [src/services/telegram_stars_service.py](src/services/telegram_stars_service.py)

2. **TON Connect** (USDT/TON ะฝะฐ ะฑะปะพะบัะตะนะฝะต)
   - TON blockchain ะธะฝัะตะณัะฐัะธั
   - ะะฒัะพะผะฐัะธัะตัะบะพะต ัะบะฐะฝะธัะพะฒะฐะฝะธะต ััะฐะฝะทะฐะบัะธะน
   - Wallet connect ัะตัะตะท ััะพะฝัะตะฝะด
   - ะคะฐะนะปั:
     - [src/services/ton_payment_service.py](src/services/ton_payment_service.py)
     - [src/tasks/ton_scanner.py](src/tasks/ton_scanner.py)
     - [frontend/components/providers/TonConnectProvider.tsx](frontend/components/providers/TonConnectProvider.tsx)

3. **CryptoBot** (ะพะฟัะธะพะฝะฐะปัะฝะพ)
   - ะะตะทะตัะฒะฝัะน ะผะตัะพะด
   - Multi-currency support

**TON Scanner:**
- ะะฒัะพะผะฐัะธัะตัะบะพะต ัะบะฐะฝะธัะพะฒะฐะฝะธะต ะฑะปะพะบัะตะนะฝะฐ
- ะะตัะตะบัะธัะพะฒะฐะฝะธะต ะฒัะพะดััะธั ะฟะปะฐัะตะถะตะน
- ะะฑะฝะพะฒะปะตะฝะธะต ะฟะพะดะฟะธัะพะบ ะฟัะธ ะฟะพะปััะตะฝะธะธ ะพะฟะปะฐัั
- Background task (APScheduler)

**ะะฐะทะฐ ะดะฐะฝะฝัั:**
- ะขะฐะฑะปะธัะฐ `ton_scanner_state` - ะฟะพัะปะตะดะฝะธะน ะพะฑัะฐะฑะพัะฐะฝะฝัะน timestamp
- ะขะฐะฑะปะธัะฐ `payments` - ะธััะพัะธั ะฒัะตั ะฟะปะฐัะตะถะตะน

---

### โญ 5. ะะตัะตัะฐะปัะฝะฐั ัะธััะตะผะฐ (4 ััะพะฒะฝั)

**ะะตัะฐะฝะธะบะฐ:**
- ะฃะฝะธะบะฐะปัะฝัะน ัะตัะตัะฐะปัะฝัะน ะบะพะด ะดะปั ะบะฐะถะดะพะณะพ ะฟะพะปัะทะพะฒะฐัะตะปั
- ะััะปะตะถะธะฒะฐะฝะธะต ัะตัะตัะฐะปะพะฒ (ะบัะพ ะบะพะณะพ ะฟัะธะฒะตะป)
- ะฃัะพะฒะฝะธ (Tiers) ั ะฝะฐะณัะฐะดะฐะผะธ
- Revenue share (ะฟัะพัะตะฝั ะพั ะฒััััะบะธ ัะตัะตัะฐะปะพะฒ)

**ะฃัะพะฒะฝะธ:**

| Tier | ะะตัะตัะฐะปะพะฒ | ะะฐะณัะฐะดั |
|------|-----------|---------|
| Bronze | 0-4 | ะะฐะทะพะฒัะต ะฑะพะฝััั |
| Silver | 5-14 | +10% ะบ ะปะธะผะธัะฐะผ |
| Gold | 15-49 | +25% ะบ ะปะธะผะธัะฐะผ, ัะบะธะดะบะธ |
| Platinum | 50+ | +50% ะบ ะปะธะผะธัะฐะผ, ะฟัะธะพัะธัะตั |

**ะะฐะทะฐ ะดะฐะฝะฝัั:**
- `referrals` - ัะฒัะทะธ user โ referrer
- `referral_tiers` - ััะพะฒะฝะธ ะธ ะฝะฐะณัะฐะดั
- `referral_balance` - ะฑะฐะปะฐะฝัั ะดะปั ะฒัะฒะพะดะฐ
- `balance_transactions` - ะธััะพัะธั ััะฐะฝะทะฐะบัะธะน

**ะคะฐะนะปั:**
- [src/api/referral.py](src/api/referral.py) - API ัะฝะดะฟะพะธะฝัั
- [src/bot/handlers/referral.py](src/bot/handlers/referral.py) - Telegram ะบะพะผะฐะฝะดั
- [src/database/models.py:180](src/database/models.py#L180) - Referral models

**ะะพะบัะผะตะฝั:**
- [docs/REFERRAL_SYSTEM_ACTIVATION.md](docs/REFERRAL_SYSTEM_ACTIVATION.md)

---

### โญ 6. ะขะตัะฝะธัะตัะบะธะต ะธะฝะดะธะบะฐัะพัั (ะฑะธะฑะปะธะพัะตะบะฐ `ta`)

**ะะพะปะฝัะน ัะฟะธัะพะบ ัะตะฐะปะธะทะพะฒะฐะฝะฝัั ะธะฝะดะธะบะฐัะพัะพะฒ:**

**ะขัะตะฝะดะพะฒัะต:**
- EMA (Exponential Moving Average) - 20, 50, 200
- SMA (Simple Moving Average) - 20, 50, 200
- MACD (Moving Average Convergence Divergence)
- ADX (Average Directional Index)

**ะะพะผะตะฝััะผ:**
- RSI (Relative Strength Index)
- Stochastic Oscillator
- Williams %R
- ROC (Rate of Change)

**ะะพะปะฐัะธะปัะฝะพััั:**
- Bollinger Bands
- ATR (Average True Range)
- Keltner Channels

**ะะฑัะตะผะฝัะต:**
- OBV (On-Balance Volume)
- VWAP (Volume Weighted Average Price)
- Volume SMA
- MFI (Money Flow Index)

**ะกะฒะตัะฝัะต ะฟะฐััะตัะฝั:**
- Doji
- Hammer / Inverted Hammer
- Shooting Star
- Engulfing (Bullish/Bearish)
- Morning Star / Evening Star
- Three White Soldiers / Three Black Crows

**ะคะฐะนะปั:**
- [src/services/technical_indicators.py](src/services/technical_indicators.py) - ะัะต ะธะฝะดะธะบะฐัะพัั
- [src/services/candlestick_patterns.py](src/services/candlestick_patterns.py) - ะกะฒะตัะฝัะต ะฟะฐััะตัะฝั

---

### โญ 7. Rainbow Chart ะดะปั Bitcoin (ัะธะบะปะพะฒะพะน ะฐะฝะฐะปะธะท)

**ะคัะฝะบัะธะพะฝะฐะป:**
- ะะฐััะตั ัะตะบััะตะณะพ band (Fire Sale โ Maximum Bubble)
- Days since genesis (ั 03.01.2009)
- Sentiment classification
- ะะฝัะตัะฟัะตัะฐัะธั ััะฝะพัะฝะพะน ัะฐะทั

**9 ััะพะฒะฝะตะน (bands):**

| Band | ะะฐะทะฒะฐะฝะธะต | ะะฝัะตัะฟัะตัะฐัะธั |
|------|----------|---------------|
| 0 | Fire Sale | ะะฐะบัะธะผะฐะปัะฝะฐั ะฒะพะทะผะพะถะฝะพััั ะฟะพะบัะฟะบะธ |
| 1 | Buy | ะกะธะปัะฝะฐั ะทะพะฝะฐ ะฟะพะบัะฟะบะธ |
| 2 | Accumulate | ะะพะฝะฐ ะฝะฐะบะพะฟะปะตะฝะธั |
| 3 | Still Cheap | ะัะต ะตัะต ะดะตัะตะฒะพ |
| 4 | Hold | ะะพะฝะฐ ัะดะตัะถะฐะฝะธั |
| 5 | Is This a Bubble? | ะะฐัะฐะปะพ ะฟะตัะตะณัะตะฒะฐ |
| 6 | FOMO Intensifies | ะฃัะธะปะตะฝะธะต FOMO |
| 7 | Sell. Seriously, SELL! | ะะพะฝะฐ ะฟัะพะดะฐะถะธ |
| 8 | Maximum Bubble Territory | ะะฐะบัะธะผะฐะปัะฝัะน ะฟัะทััั |

**ะคะพัะผัะปะฐ:**
```python
log_price = log10(current_price)
log_days = log10(days_since_genesis)

# Rainbow bands (9 ะฟะพะปะธะฝะพะผะธะฐะปัะฝัั ะบัะธะฒัั)
band_value = a * log_days^2 + b * log_days + c
```

**ะคะฐะนะป:**
- [src/services/cycle_analysis_service.py](src/services/cycle_analysis_service.py)

---

### โญ 8. Redis ะบะตัะธัะพะฒะฐะฝะธะต (production)

**ะะธััะตัะตะฝัะธัะพะฒะฐะฝะฝัะน TTL:**

| ะขะธะฟ ะดะฐะฝะฝัั | TTL | ะะฑะพัะฝะพะฒะฐะฝะธะต |
|------------|-----|-------------|
| Price | 90s | ะงะฐััะพ ะผะตะฝัะตััั |
| Coin data | 5 min | ะะทะผะตะฝัะตััั ะผะตะดะปะตะฝะฝะตะต |
| Historical | 10 min | ะกัะฐะฑะธะปัะฝัะต ะดะฐะฝะฝัะต |
| News | 8 ัะฐัะพะฒ | API ะปะธะผะธัั |
| Binance klines | ะะฐะฒะธัะธั ะพั TF | 1m โ 60s, 1d โ 1h |

**Stale cache fallback:**
- ะัะธ 429 ะพัะธะฑะบะฐั (rate limit exceeded)
- ะะพะทะฒัะฐัะฐะตั ััะฐััะต ะดะฐะฝะฝัะต ะฒะผะตััะพ ะพัะธะฑะบะธ
- Warning ะฟะพะปัะทะพะฒะฐัะตะปั ะพ ะทะฐะดะตัะถะบะต ะดะฐะฝะฝัั

**ะะพะฝัะธะณััะฐัะธั:**
```python
# config/cache_config.py
REDIS_HOST = "localhost"
REDIS_PORT = 6379
REDIS_DB = 0
CACHE_ENABLED = True  # ะัะบะปััะธัั ะดะปั dev
```

**ะคะฐะนะปั:**
- [config/cache_config.py](config/cache_config.py) - ะะพะฝัะธะณััะฐัะธั
- [src/cache/redis_cache.py](src/cache/redis_cache.py) - ะะตะฐะปะธะทะฐัะธั
- [docs/REDIS_CACHING_STRATEGY.md](docs/REDIS_CACHING_STRATEGY.md) - ะกััะฐัะตะณะธั

---

### โญ 9. Rate Limiting

**CoinGecko:**
- **ะะปะณะพัะธัะผ:** Sliding window
- **Demo API (ั ะบะปััะพะผ):** 25 ะฒัะทะพะฒะพะฒ/ะผะธะฝ
- **Public API (ะฑะตะท ะบะปััะฐ):** 10 ะฒัะทะพะฒะพะฒ/ะผะธะฝ
- **Max wait:** 10 ัะตะบัะฝะด
- **ะัะธะฑะบะฐ:** RateLimitExceeded ะตัะปะธ ะพะถะธะดะฐะฝะธะต > 10s

**Binance:**
- Weight-based limiting
- 1200 weight/min (IP limit)
- ะะฒัะพะผะฐัะธัะตัะบะธะน retry ั exponential backoff

**OpenAI:**
- Tenacity retry (3 ะฟะพะฟััะบะธ)
- Exponential backoff: 1s, 2s, 4s
- Retry ะฝะฐ: RateLimitError, APIError, APIConnectionError

**ะคะฐะนะปั:**
- [src/services/coingecko_service.py:95](src/services/coingecko_service.py#L95) - Sliding window
- [src/services/binance_service.py:45](src/services/binance_service.py#L45) - Weight tracking
- [src/services/openai_service.py:20](src/services/openai_service.py#L20) - Tenacity config

**ะะพะบัะผะตะฝั:**
- [docs/COINGECKO_OPTIMIZATION_SUMMARY.md](docs/COINGECKO_OPTIMIZATION_SUMMARY.md)

---

### โญ 10. Admin ััะฝะบัะธะธ

**ะะพะผะฐะฝะดั:**
- `/admin_stats` - ะกัะฐัะธััะธะบะฐ ะฑะพัะฐ (ะฟะพะปัะทะพะฒะฐัะตะปะธ, ะทะฐะฟัะพัั, ะทะฐััะฐัั)
- `/admin_broadcast` - ะะฐัััะปะบะฐ ะฒัะตะผ ะฟะพะปัะทะพะฒะฐัะตะปัะผ
- `/admin_reset_limits` - ะกะฑัะพั ะปะธะผะธัะพะฒ ะบะพะฝะบัะตัะฝะพะณะพ ะฟะพะปัะทะพะฒะฐัะตะปั
- `/admin_grant_subscription` - ะัะดะฐัะฐ ะฟะพะดะฟะธัะบะธ

**Middleware:**
- `AdminMiddleware` ะฟัะพะฒะตััะตั ADMIN_IDS ะธะท .env
- ะะปะพะบะธััะตั ะดะพัััะฟ ะดะปั ะพะฑััะฝัั ะฟะพะปัะทะพะฒะฐัะตะปะตะน

**ะะฐะทะฐ ะดะฐะฝะฝัั:**
- ะะฝะฐะปะธัะธะบะฐ ัะตัะตะท SQL ะทะฐะฟัะพัั
- Aggregation: COUNT, SUM, AVG ะฟะพ ะฟะตัะธะพะดะฐะผ

**ะคะฐะนะปั:**
- [src/bot/handlers/admin.py](src/bot/handlers/admin.py) - Admin ะบะพะผะฐะฝะดั
- [src/bot/middleware/admin.py](src/bot/middleware/admin.py) - ะัะพะฒะตัะบะฐ ะฟัะฐะฒ

---

## ะงะฐััะธัะฝัะต ัะตะฐะปะธะทะฐัะธะธ ะธ ะพะณัะฐะฝะธัะตะฝะธั

### โ๏ธ 1. "ะกะปะตะดะธั ะทะฐ ะฝะพะฒะพัััะผะธ" - ะงะะกะขะะงะะ

**ะัะพะฑะปะตะผะฐ:**
- CryptoPanic API ะธะผะตะตั **ะะงะะะฌ ะถะตััะบะธะต ะปะธะผะธัั**
- Free tier: ~3 ะทะฐะฟัะพัะฐ/ะดะตะฝั (!!!)
- Paid tier: ะดะพัะพะณะพ ะดะปั ะฝะตะฑะพะปััะพะณะพ ะฟัะพะตะบัะฐ

**ะะตัะตะฝะธะต:**
- ะะตั ะฝะฐ **8 ัะฐัะพะฒ** (CACHE_TTL_CRYPTOPANIC = 28800)
- Stale cache fallback (ะฒะพะทะฒัะฐัะฐะตั ััะฐััะต ะดะฐะฝะฝัะต ะฟัะธ 429)
- Retry limit: 1 ะฟะพะฟััะบะฐ (ะฝะต ัะฟะฐะผะธัั API)

**ะัะฒะพะด:**
ะะพะฒะพััะธ ัะฐะฑะพัะฐัั, ะฝะพ ั ะทะฐะดะตัะถะบะพะน ะดะพ 8 ัะฐัะพะฒ. ะะปั ะฑะพะปััะธะฝััะฒะฐ ัะปััะฐะตะฒ ััะพะณะพ ะดะพััะฐัะพัะฝะพ (ะฒะฐะถะฝัะต ัะพะฑััะธั ะฝะต ะผะตะฝััััั ะบะฐะถะดัั ะผะธะฝััั).

**ะะตะบะพะผะตะฝะดะฐัะธั:**
ะะฐััะผะพััะตัั ะฐะปััะตัะฝะฐัะธะฒะฝัะต ะธััะพัะฝะธะบะธ ะฝะพะฒะพััะตะน:
- RSS feed ะฐะณัะตะณะฐัะพัั (ะฑะตัะฟะปะฐัะฝะพ)
- NewsAPI.org (ะฑะพะปะตะต ัะตะดััะต ะปะธะผะธัั)
- ะกะพะฑััะฒะตะฝะฝัะน ะฟะฐััะธะฝะณ Reddit/Twitter

---

### โ๏ธ 2. Liquidation Data - ะะะฆะะะะะะฌะะ

**ะขัะตะฑัะตั:**
- `BINANCE_API_KEY` + `BINANCE_API_SECRET`
- READ-ONLY ะฟัะฐะฒะฐ (ะฑะตะทะพะฟะฐัะฝะพ)

**ะัะปะธ ะฝะตั ะบะปััะตะน:**
- Long/Short ratio ะฝะตะดะพัััะฟะตะฝ
- Liquidation history ะฝะตะดะพัััะฟะตะฝ
- Open Interest ะฒัะต ัะฐะฒะฝะพ ะดะพัััะฟะตะฝ (ะฟัะฑะปะธัะฝัะน ัะฝะดะฟะพะธะฝั)

**ะัะฒะพะด:**
ะคัะฝะบัะธั ัะฐะฑะพัะฐะตั, ะฝะพ ััะตะฑัะตั ัะตะณะธัััะฐัะธะธ ะฝะฐ Binance ะธ ัะพะทะดะฐะฝะธั API ะบะปััะฐ.

**ะะตะบะพะผะตะฝะดะฐัะธั:**
ะฃะฟะพะผัะฝััั ะฝะฐ ะปะตะฝะดะธะฝะณะต:
> "ะะฐััะธัะตะฝะฝัะต ะดะฐะฝะฝัะต (ะปะธะบะฒะธะดะฐัะธะธ, long/short) ะดะพัััะฟะฝั ะฟัะธ ะฟะพะดะบะปััะตะฝะธะธ Binance API (ะพะฟัะธะพะฝะฐะปัะฝะพ)."

---

### โ๏ธ 3. Rainbow Chart - ะขะะะฌะะ BTC

**ะัะธัะธะฝะฐ:**
Rainbow Chart โ ััะพ ัะฟะตัะธัะธัะตัะบะฐั ะผะพะดะตะปั **ัะพะปัะบะพ ะดะปั Bitcoin**, ะพัะฝะพะฒะฐะฝะฝะฐั ะฝะฐ:
- Days since genesis (03.01.2009)
- ะะพะปะธะฝะพะผะธะฐะปัะฝะฐั ัะตะณัะตััะธั ะฝะฐ ะธััะพัะธัะตัะบะพะผ ัะพััะต BTC

ะะปั ะดััะณะธั ะผะพะฝะตั ััะฐ ะผะพะดะตะปั ะฝะต ะฟัะธะผะตะฝะธะผะฐ (ัะฐะทะฝะฐั ะธััะพัะธั, ะฒะพะปะฐัะธะปัะฝะพััั, ัะธะบะปั).

**ะะปััะตัะฝะฐัะธะฒะฐ ะดะปั ะฐะปััะบะพะธะฝะพะฒ:**
- Cycle indicators (RSI, MACD divergences)
- ATH/ATL analysis
- Market cap milestones

**ะัะฒะพะด:**
ะญัะพ ะฝะต ะฑะฐะณ, ะฐ ัะธัะฐ ัะฟะตัะธะฐะปัะฝะพ ะดะปั BTC. ะะปั ะพััะฐะปัะฝัั ะผะพะฝะตั ะธัะฟะพะปัะทััััั ะดััะณะธะต ะผะตัะพะดั ัะธะบะปะพะฒะณะพ ะฐะฝะฐะปะธะทะฐ.

---

### โ๏ธ 4. On-chain ะผะตััะธะบะธ - ะงะะกะขะะงะะ

**CoinMetrics API ะฟัะตะดะพััะฐะฒะปัะตั:**
- Network health (ะฐะบัะธะฒะฝัะต ะฐะดัะตัะฐ, ััะฐะฝะทะฐะบัะธะธ)
- Exchange flows (ะฟะพัะพะบะธ ะฝะฐ ะฑะธัะถะธ)

**ะัะพะฑะปะตะผะฐ:**
ะะต ะดะปั ะฒัะตั ะผะพะฝะตั ะดะพัััะฟะฝั ะดะฐะฝะฝัะต. CoinMetrics ัะพะบััะธััะตััั ะฝะฐ:
- Bitcoin
- Ethereum
- ะขะพะฟ-15 ะฟะพ market cap

**ะะตะปะบะธะต ะฐะปััะบะพะธะฝั:**
On-chain ะผะตััะธะบะธ ะฝะตะดะพัััะฟะฝั (ะธะปะธ ะพัะตะฝั ะพะณัะฐะฝะธัะตะฝั).

**ะัะฒะพะด:**
ะะฐะฑะพัะฐะตั ะดะปั ะพัะฝะพะฒะฝัั ะผะพะฝะตั, ัะตะณะพ ะดะพััะฐัะพัะฝะพ ะดะปั 95% ะทะฐะฟัะพัะพะฒ.

---

## ะัะพะณะพะฒะฐั ัะฐะฑะปะธัะฐ ัะพะพัะฒะตัััะฒะธั

| ะะฑะตัะฐะฝะธะต ะปะตะฝะดะธะฝะณะฐ | ะกัะฐััั | ะะตะฐะปะธะทะฐัะธั | ะัะตะฝะบะฐ |
|------------------|--------|-----------|--------|
| 1. ะกะปะตะดะธั ะทะฐ ััะฝะบะพะผ ะธ ะฝะพะฒะพัััะผะธ | โ ะะพะปะฝะพัััั | 6+ API ะธััะพัะฝะธะบะพะฒ, ะฐะณัะตะณะฐัะธั | 10/10 |
| 2. ะะฑัััะฝัะตั ัะธัะบะธ | โ ะะพะปะฝะพัััั | SAFEGUARD, risk/reward, ะฐะฒัะพะฐะดะฐะฟัะฐัะธั | 10/10 |
| 3. ะะฐะทะฑะพั ะผะพะฝะตั ะฟะพ ะทะฐะฟัะพัั | โ ะะพะปะฝะพัััั | 15+ ะธะฝะดะธะบะฐัะพัะพะฒ, ะณะปัะฑะพะบะธะน ะฐะฝะฐะปะธะท | 10/10 |
| 4. ะะพะฝััะฝะฐั ะบะฐััะธะฝะฐ ััะฝะบะฐ | โ ะะพะปะฝะพัััั | ะคะพัะผะฐั 180-220 ัะปะพะฒ, ััััะบัััะฐ | 10/10 |
| 5. 5 ะทะฐะฟัะพัะพะฒ/ะดะตะฝั | โ ะะพะปะฝะพัััั | Middleware + ะะ + 4 ัะฐัะธัะฐ | 10/10 |
| 6. 24/7 ะฒ Telegram | โ ะะพะปะฝะพัััั | Async bot + PostgreSQL + Redis | 10/10 |
| 7. ะัััะบะธะน/ะะฝะณะปะธะนัะบะธะน | โ ะะพะปะฝะพัััั | UI + ะฟัะพะผะฟัั + ะฐะฒัะพะพะฟัะตะดะตะปะตะฝะธะต | 10/10 |
| 8. ะฅะฐัะฐะบัะตั (ัะทะฒะธัะตะปัะฝัะน) | โ ะะพะปะฝะพัััั | 3 ัะตะถะธะผะฐ, 21 ััะฐะทะฐ, AI-ัะฐะผะพะพัะพะทะฝะฐะฝะฝะพััั | 10/10 |

**ะกัะตะดะฝัั ะพัะตะฝะบะฐ:** **10/10**

---

## ะะพะฟะพะปะฝะธัะตะปัะฝัะต ัะธัะธ (ัะบััััะต)

| ะคัะฝะบัะธั | ะะตะฐะปะธะทะฐัะธั | ะฃะฟะพะผัะฝััะพ ะฝะฐ ะปะตะฝะดะธะฝะณะต? |
|---------|-----------|----------------------|
| Vision API (ะฐะฝะฐะปะธะท ะณัะฐัะธะบะพะฒ) | โ ะะพะปะฝะพัััั | โ ะะตั |
| Mini App (Web App) | โ ะะพะปะฝะพัััั | โ ะะตั |
| DeepSeek ะฟะพะดะดะตัะถะบะฐ (9x ะดะตัะตะฒะปะต) | โ ะะพะปะฝะพัััั | โ ะะตั |
| 3 ะฟะปะฐัะตะถะฝัั ะฟัะพะฒะฐะนะดะตัะฐ | โ ะะพะปะฝะพัััั | โ ะะตั (ัะพะปัะบะพ ัะฟะพะผัะฝััั ะฟะพะดะฟะธัะบะธ) |
| ะะตัะตัะฐะปัะฝะฐั ัะธััะตะผะฐ (4 ััะพะฒะฝั) | โ ะะพะปะฝะพัััั | โ ะะตั |
| Rainbow Chart (BTC cycles) | โ ะะพะปะฝะพัััั | โ ะะตั |
| Rate limiting (ะฒัะต API) | โ ะะพะปะฝะพัััั | โ ะะตั |
| Redis ะบะตัะธัะพะฒะฐะฝะธะต | โ ะะพะปะฝะพัััั | โ ะะตั |
| Admin ะฟะฐะฝะตะปั | โ ะะพะปะฝะพัััั | โ ะะตั |
| Margin calculator | โ ะะพะปะฝะพัััั | โ ะะตั |

**ะัะพะณะพ:** 10 ัะบััััั ััะฝะบัะธะน, ะบะพัะพััะต ะทะฝะฐัะธัะตะปัะฝะพ ะฟัะตะฒะพััะพะดัั ะฑะฐะทะพะฒัะต ะพะฑะตัะฐะฝะธั.

---

## ะฎัะธะดะธัะตัะบะธะต ะดะพะบัะผะตะฝัั (Privacy Policy & Terms)

### โ ะะตะฐะปะธะทะฐัะธั:

**ะ ะบะพะดะต (config/config.py:26-41):**
- `TERMS_OF_SERVICE_URL_RU` / `TERMS_OF_SERVICE_URL_EN`
- `PRIVACY_POLICY_URL_RU` / `PRIVACY_POLICY_URL_EN`
- ะัะฟะพะปัะทััััั ะฒ Telegram ะฑะพัะต (/help ะบะพะผะฐะฝะดะฐ, ะฟัะธ ะฟะตัะฒะพะผ ะทะฐะฟััะบะต)

**ะะพะบัะผะตะฝัั:**
- `docs/PRIVACY_POLICY_RU.md` / `docs/PRIVACY_POLICY_EN.md`
- `docs/TELEGRAPH_PRIVACY_RU.txt` / `docs/TELEGRAPH_PRIVACY_EN.txt`
- `docs/TELEGRAPH_TERMS_RU.txt` / `docs/TELEGRAPH_TERMS_EN.txt`

**ะะฐ ะปะตะฝะดะธะฝะณะต:**
- โ ะะพะฑะฐะฒะปะตะฝั ะฒ ัััะตั ะพะฑะตะธั ะฒะตััะธะน (React + HTML)
- ะกััะปะบะธ: [ะฃัะปะพะฒะธั ะธัะฟะพะปัะทะพะฒะฐะฝะธั](https://telegra.ph/Pravila-ispolzovaniya-Syntra-AI-11-23), [ะะพะปะธัะธะบะฐ ะบะพะฝัะธะดะตะฝัะธะฐะปัะฝะพััะธ](https://telegra.ph/Politika-konfidencialnosti-Syntra-AI-11-23)

**ะคะฐะนะปั:**
- [config/config.py:26-41](config/config.py#L26-L41) - ะะพะฝัะธะณััะฐัะธั URL
- [src/bot/handlers/help_cmd.py:32-33](src/bot/handlers/help_cmd.py#L32-L33) - ะัะฟะพะปัะทะพะฒะฐะฝะธะต ะฒ /help
- [src/bot/handlers/menu.py:605-621](src/bot/handlers/menu.py#L605-L621) - ะะพะบะฐะท ะฟัะธ ะฟะตัะฒะพะผ ะทะฐะฟััะบะต
- [frontend/app/landing/page.tsx:631-640](frontend/app/landing/page.tsx#L631-L640) - ะคััะตั React
- [syntra_landing/index.html:304-305](syntra_landing/index.html#L304-L305) - ะคััะตั HTML

---

## ะะตะบะพะผะตะฝะดะฐัะธะธ ะฟะพ ะพะฑะฝะพะฒะปะตะฝะธั ะปะตะฝะดะธะฝะณะฐ

### 1. ~~ะะพะฑะฐะฒะธัั Privacy Policy ะธ Terms ะฒ ัััะตั~~ โ **ะะซะะะะะะะ**

ะกััะปะบะธ ะฝะฐ "ะฃัะปะพะฒะธั ะธัะฟะพะปัะทะพะฒะฐะฝะธั" ะธ "ะะพะปะธัะธะบะฐ ะบะพะฝัะธะดะตะฝัะธะฐะปัะฝะพััะธ" ะดะพะฑะฐะฒะปะตะฝั ะฒ ัััะตั ะพะฑะตะธั ะฒะตััะธะน ะปะตะฝะดะธะฝะณะฐ (React + HTML).

### 2. ะะพะฑะฐะฒะธัั ัะตะบัะธั "ะกะบััััะต ะฒะพะทะผะพะถะฝะพััะธ"

**ะขะตะบัั:**
> **ะะพะปััะต, ัะตะผ ะบะฐะถะตััั**
>
> ะะพะผะธะผะพ ะฑะฐะทะพะฒัั ััะฝะบัะธะน, Syntra ัะผะตะตั:
> - ๐ธ ะะฝะฐะปะธะทะธัะพะฒะฐัั ะณัะฐัะธะบะธ ะฟะพ ัะบัะธะฝัะพัั (Vision AI)
> - ๐ ะะฐะฑะพัะฐัั ัะตัะตะท ะฒะตะฑ-ะธะฝัะตััะตะนั (Mini App)
> - ๐ฏ ะััะปะตะถะธะฒะฐัั ัะธะบะปั Bitcoin (Rainbow Chart)
> - ๐ ะะฐัััะธััะฒะฐัั ะผะฐัะถั ะธ ะฟะปะตัะพ (Margin Calculator)

### 3. ะฃัะพัะฝะธัั ะฟัะพ ะฝะพะฒะพััะธ

**ะกะตะนัะฐั:**
> "ะกะปะตะดะธั ะทะฐ ััะฝะบะพะผ ะธ ะฝะพะฒะพัััะผะธ"

**ะัะตะดะปะพะถะตะฝะธะต:**
> "ะกะปะตะดะธั ะทะฐ ััะฝะบะพะผ ะธ ะฒะฐะถะฝัะผะธ ัะพะฑ๏ฟฝ๏ฟฝัะธัะผะธ (ะพะฑะฝะพะฒะปะตะฝะธะต ะบะฐะถะดัะต 8 ัะฐัะพะฒ)"

### 4. ะะพะฑะฐะฒะธัั ะฟัะพ ัะตัะตัะฐะปัะฝัั ัะธััะตะผั

**ะขะตะบัั:**
> **ะัะธะฒะพะดะธ ะดััะทะตะน โ ะฟะพะปััะฐะน ะฑะพะฝััั**
>
> ะะตัะตัะฐะปัะฝะฐั ะฟัะพะณัะฐะผะผะฐ ั 4 ััะพะฒะฝัะผะธ:
> - Bronze (0-4): ะฑะฐะทะพะฒัะต ะฑะพะฝััั
> - Silver (5-14): +10% ะบ ะปะธะผะธัะฐะผ
> - Gold (15-49): +25% ะบ ะปะธะผะธัะฐะผ, ัะบะธะดะบะธ
> - Platinum (50+): +50% ะบ ะปะธะผะธัะฐะผ, ะฟัะธะพัะธัะตั

### 5. ะฃะฟะพะผัะฝััั ะฟัะพ Web App

**ะขะตะบัั:**
> **ะฃะดะพะฑะฝัะน ะฒะตะฑ-ะธะฝัะตััะตะนั**
>
> ะะต ะปัะฑะธัั ัะฐัั? Syntra ะดะพัััะฟะตะฝ ะธ ัะตัะตะท ะฒะตะฑ-ะฟัะธะปะพะถะตะฝะธะต:
> - ะัะฐัะธะฒัะน ะธะฝัะตััะตะนั ั ัะตะผะฝะพะน ัะตะผะพะน
> - Real-time ะพัะฒะตัั (streaming)
> - ะััะพัะธั ะฒัะตั ัะฐัะพะฒ
> - ะะฐะฑะพัะฐะตั ะฟััะผะพ ะฒ Telegram (ะฑะตะท ัััะฐะฝะพะฒะบะธ)

---

## ะคะธะฝะฐะปัะฝัะน ะฒัะฒะพะด

### โ ะงัะพ ัะฐะฑะพัะฐะตั ะพัะปะธัะฝะพ:

1. **ะะฐะฝะฝัะต:** 6+ API ะธััะพัะฝะธะบะพะฒ ั ะณะปัะฑะพะบะพะน ะฐะณัะตะณะฐัะธะตะน
2. **ะะฝะฐะปะธะท:** 15+ ัะตัะฝะธัะตัะบะธั ะธะฝะดะธะบะฐัะพัะพะฒ ะฟัะพัะตััะธะพะฝะฐะปัะฝะพะณะพ ััะพะฒะฝั
3. **ะฅะฐัะฐะบัะตั:** ะัะพะดัะผะฐะฝะฝะฐั ะฐะดะฐะฟัะฐัะธั ัะพะฝะฐ (3 ัะตะถะธะผะฐ + safeguard)
4. **ะะธะผะธัั:** ะงะตัะบะฐั ัะธััะตะผะฐ ั 4 ัะฐัะธัะฐะผะธ
5. **ะะฐัััะฐะฑะธััะตะผะพััั:** Redis, rate limiting, multi-provider AI
6. **ะะพะฝะตัะธะทะฐัะธั:** 3 ะฟะปะฐัะตะถะฝัั ะฟัะพะฒะฐะนะดะตัะฐ + ัะตัะตัะฐะปัะฝะฐั ะฟัะพะณัะฐะผะผะฐ

### โ๏ธ ะงัะพ ะผะพะถะฝะพ ัะปัััะธัั:

1. **ะะพะฒะพััะธ:** ะะฐััะผะพััะตัั ะฐะปััะตัะฝะฐัะธะฒะฝัะต ะธััะพัะฝะธะบะธ (NewsAPI, RSS)
2. **ะะตะฝะดะธะฝะณ:** ะะพะฑะฐะฒะธัั ัะฟะพะผะธะฝะฐะฝะธะต ัะบััััั ััะฝะบัะธะน (Vision, Mini App)
3. **ะะพะบัะผะตะฝัะฐัะธั:** ะฃะฟะพะผัะฝััั Binance API ะดะปั ัะฐััะธัะตะฝะฝัั ะดะฐะฝะฝัั

### ๐ฏ ะะฑัะฐั ะพัะตะฝะบะฐ:

**Syntra AI โ ััะพ ะะ ะฟััััะต ะพะฑะตัะฐะฝะธั.**

ะัะต ะทะฐัะฒะปะตะฝะฝะพะต ะฝะฐ ะปะตะฝะดะธะฝะณะต:
- โ **ะะพะปะฝะพัััั ัะตะฐะปะธะทะพะฒะฐะฝะพ**
- โ **ะะฐะฑะพัะฐะตั ััะฐะฑะธะปัะฝะพ**
- โ **ะัะตะฒะพััะพะดะธั ะพะถะธะดะฐะฝะธั**

ะัะพะดัะบั ะณะพัะพะฒ ะบ production ะธ **ะฟัะตะฒะพััะพะดะธั 90% ะบัะธะฟัะพ-ะฑะพัะพะฒ** ะฟะพ ะณะปัะฑะธะฝะต ะฐะฝะฐะปะธะทะฐ ะธ ะบะฐัะตััะฒั ัะตะฐะปะธะทะฐัะธะธ.

**ะะดะธะฝััะฒะตะฝะฝะฐั ะฟัะพะฑะปะตะผะฐ:** ะะฝะพะณะธะต ะบััััะต ััะฝะบัะธะธ (Vision, Mini App, Referrals) **ัะบัััั ะพั ะฟะพะปัะทะพะฒะฐัะตะปะตะน** ะธ ะฝะต ัะฟะพะผัะฝััั ะฝะฐ ะปะตะฝะดะธะฝะณะต.

---

## ะกัััะบัััะฐ ะฟัะพะตะบัะฐ (ัะฟัะฐะฒะบะฐ)

```
Syntra Trade Consultant/
โโโ config/
โ   โโโ prompts.py              # ะัััะบะธะต ะฟัะพะผะฟัั + ัะฐัะฐะบัะตั
โ   โโโ prompts_en.py           # ะะฝะณะปะธะนัะบะธะต ะฟัะพะผะฟัั
โ   โโโ config.py               # ะะพะฝัะธะณััะฐัะธั (API ะบะปััะธ, ะผะพะดะตะปะธ)
โ   โโโ cache_config.py         # Redis ะฝะฐัััะพะนะบะธ
โโโ src/
โ   โโโ api/                    # FastAPI ัะฝะดะฟะพะธะฝัั
โ   โ   โโโ chat.py             # ะงะฐั API (SSE streaming)
โ   โ   โโโ profile.py          # ะัะพัะธะปั ะฟะพะปัะทะพะฒะฐัะตะปั
โ   โ   โโโ payment.py          # ะะปะฐัะตะถะธ (3 ะฟัะพะฒะฐะนะดะตัะฐ)
โ   โ   โโโ referral.py         # ะะตัะตัะฐะปัะฝะฐั ัะธััะตะผะฐ
โ   โโโ bot/
โ   โ   โโโ handlers/           # Telegram ะบะพะผะฐะฝะดั
โ   โ   โ   โโโ start.py
โ   โ   โ   โโโ help_cmd.py
โ   โ   โ   โโโ crypto.py       # ะัะฝะพะฒะฝะพะน ะพะฑัะฐะฑะพััะธะบ ะฒะพะฟัะพัะพะฒ
โ   โ   โ   โโโ vision.py       # ะะฝะฐะปะธะท ะณัะฐัะธะบะพะฒ
โ   โ   โ   โโโ premium.py      # ะะพะดะฟะธัะบะธ
โ   โ   โ   โโโ referral.py     # ะะตัะตัะฐะปะบะฐ
โ   โ   โ   โโโ admin.py        # Admin ะฟะฐะฝะตะปั
โ   โ   โโโ middleware/         # Middleware
โ   โ       โโโ database.py     # DB session
โ   โ       โโโ language.py     # ะฏะทัะบ
โ   โ       โโโ request_limit.py # ะะธะผะธัั
โ   โ       โโโ subscription.py # ะะพะดะฟะธัะบะธ
โ   โ       โโโ admin.py        # Admin ะฟัะฐะฒะฐ
โ   โโโ services/               # ะะธะทะฝะตั-ะปะพะณะธะบะฐ
โ   โ   โโโ openai_service.py   # OpenAI/DeepSeek
โ   โ   โโโ crypto_tools.py     # Function calling tools
โ   โ   โโโ coingecko_service.py # CoinGecko API
โ   โ   โโโ binance_service.py  # Binance API
โ   โ   โโโ cryptopanic_service.py # ะะพะฒะพััะธ
โ   โ   โโโ fear_greed_service.py # F&G Index
โ   โ   โโโ coinmetrics_service.py # On-chain
โ   โ   โโโ technical_indicators.py # 15+ ะธะฝะดะธะบะฐัะพัะพะฒ
โ   โ   โโโ candlestick_patterns.py # ะกะฒะตัะธ
โ   โ   โโโ cycle_analysis_service.py # Rainbow Chart
โ   โ   โโโ analytics_aggregator.py # ะะณัะตะณะฐัะธั
โ   โ   โโโ margin_calculator.py # ะะฐะปัะบัะปััะพั ะผะฐัะถะธ
โ   โ   โโโ ton_payment_service.py # TON Connect
โ   โ   โโโ telegram_stars_service.py # Telegram Stars
โ   โโโ database/
โ   โ   โโโ models.py           # SQLAlchemy ะผะพะดะตะปะธ
โ   โ   โโโ crud.py             # CRUD ะพะฟะตัะฐัะธะธ
โ   โ   โโโ engine.py           # Async engine
โ   โโโ cache/
โ   โ   โโโ redis_cache.py      # Redis ะบะตัะธัะพะฒะฐะฝะธะต
โ   โโโ tasks/
โ   โ   โโโ ton_scanner.py      # TON blockchain scanner
โ   โ   โโโ referral_scheduler.py # Cron ะทะฐะดะฐัะธ
โ   โโโ locales/
โ   โ   โโโ ru.json             # ะัััะบะฐั ะปะพะบะฐะปะธะทะฐัะธั
โ   โ   โโโ en.json             # ะะฝะณะปะธะนัะบะฐั ะปะพะบะฐะปะธะทะฐัะธั
โ   โโโ utils/
โ       โโโ i18n.py             # i18n helpers
โ       โโโ vision_tokens.py    # Image token calc
โโโ frontend/                   # Next.js Mini App
โ   โโโ app/
โ   โ   โโโ chat/               # ะงะฐั ัััะฐะฝะธัะฐ
โ   โ   โโโ profile/            # ะัะพัะธะปั
โ   โ   โโโ landing/            # Landing page
โ   โโโ components/
โ   โ   โโโ chat/               # ะงะฐั ะบะพะผะฟะพะฝะตะฝัั
โ   โ   โโโ modals/             # ะะพะดะฐะปะบะธ
โ   โ   โโโ providers/          # Context providers
โ   โโโ messages/
โ   โ   โโโ ru.json             # i18n ััััะบะธะน
โ   โ   โโโ en.json             # i18n ะฐะฝะณะปะธะนัะบะธะน
โ   โโโ shared/
โ       โโโ api/
โ           โโโ client.ts       # API client
โโโ docs/                       # ะะพะบัะผะตะฝัะฐัะธั
โ   โโโ LANDING_VS_REALITY_ANALYSIS.md (ััะพั ัะฐะนะป)
โ   โโโ DEEPSEEK_MIGRATION.md
โ   โโโ REDIS_CACHING_STRATEGY.md
โ   โโโ REFERRAL_SYSTEM_ACTIVATION.md
โ   โโโ MARGIN_ANALYSIS.md
โ   โโโ SECURITY_FIXES_2025.md
โโโ alembic/                    # Database migrations
โโโ bot.py                      # Telegram bot entry point
โโโ api_server.py               # FastAPI server entry point
โโโ requirements.txt            # Python dependencies
```

---

## ะะพะฝัะฐะบัั ะดะปั ะพะฑัะฐัะฝะพะน ัะฒัะทะธ

ะัะปะธ ั ะฒะฐั ะตััั ะฒะพะฟัะพัั ะฟะพ ััะพะผั ะฐะฝะฐะปะธะทั, ะฟะธัะธัะต:
- Telegram: @SyntraAI_bot
- ะะฐะฝะฐะป: @SyntraTrade

---

**ะะฐัะฐ ัะพะทะดะฐะฝะธั:** 25 ะฝะพัะฑัั 2025
**ะะฒัะพั:** Claude (Anthropic) via Claude Code
**ะะตััะธั:** 1.0
