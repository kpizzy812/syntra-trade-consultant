# Telegram Bot Configuration
BOT_TOKEN=your_telegram_bot_token_here
REQUIRED_CHANNEL=@your_channel  # or -1001234567890 (channel ID)
ADMIN_IDS=123456789,987654321  # comma-separated admin user IDs

# Official Channel ID for auto-repost feature (optional)
# When set, new posts from this channel are automatically forwarded to all bot users
# Must be numeric channel ID (e.g., -1001234567890)
# To get channel ID: forward any message from channel to @userinfobot
OFFICIAL_CHANNEL_ID=

# Database Configuration
DATABASE_URL=postgresql+asyncpg://syntraai:syntraai_secure_2024@localhost:5432/syntraai_bot

# AI API Keys (BOTH required for tier-based model routing)
# Provider selection is now DYNAMIC based on user subscription tier:
# - FREE/BASIC users → DeepSeek (cheapest, ~9x cheaper than GPT-4o)
# - PREMIUM/VIP users → OpenAI GPT-4o for complex queries, DeepSeek for simple
# - Vision API → Always OpenAI GPT-4o
# See config/limits.py for tier configuration

# OpenAI API (for GPT-4o, GPT-4o-mini, Vision)
# Get your API key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your_openai_api_key_here

# DeepSeek API (for deepseek-chat)
# Pricing: $0.14/1M input, $0.28/1M output (~9x cheaper than GPT-4o)
# Get your API key from: https://platform.deepseek.com/api-keys
# Sign up: https://platform.deepseek.com/sign-up
DEEPSEEK_API_KEY=your_deepseek_api_key_here

# CoinGecko API (optional, for Pro tier)
COINGECKO_API_KEY=

# CoinMarketCap API (optional, for extended coverage of smaller exchanges)
# Free tier: 10,000 calls/month (~333/day)
# Sign up: https://coinmarketcap.com/api/
COINMARKETCAP_API_KEY=

# CryptoPanic API
CRYPTOPANIC_TOKEN=your_cryptopanic_token_here

# Binance API (OPTIONAL - for liquidation data and advanced features)
# IMPORTANT: Use READ-ONLY API keys! DO NOT enable Trade or Withdraw permissions!
# How to create: Binance.com -> Profile -> API Management -> Create API Key
# Enable ONLY: "Enable Reading" permission for Futures
BINANCE_API_KEY=
BINANCE_API_SECRET=

# Trading Bot API Key (for protecting futures trading endpoints)
# Generate a strong random key for your trading bot to authenticate
# Example: openssl rand -hex 32
# This key protects /api/calculate-position-size and other bot-only endpoints
TRADING_BOT_API_KEY=your_secure_random_key_here

# Stats API Key (read-only access to trading statistics)
# Generate: python -c "import secrets; print(secrets.token_urlsafe(32))"
# Used by Futures Bot to GET stats from /api/stats/* endpoints
SYNTRA_STATS_API_KEY=

# TON Blockchain (for TON Connect payments)
# Deposit address for receiving TON/USDT payments
# Create wallet at: https://wallet.ton.org or https://tonkeeper.com
TON_DEPOSIT_ADDRESS=

# TON Center API Key (for blockchain monitoring)
# Get your API key from @tonapibot in Telegram (increases rate limit from 1 RPS to 10 RPS)
# Leave empty to use public API with 1 RPS limit
TON_CENTER_API_KEY=

# TON Network (testnet or mainnet)
# Set to 'true' for testnet, 'false' or leave empty for mainnet
TON_NETWORK_TESTNET=false

# TON Scanner Interval (seconds between blockchain scans)
# Default: 60 seconds. Lower values = faster payment detection, higher API usage
TON_SCAN_INTERVAL_SECONDS=60

# CryptoBot Payment (Crypto Pay API) - @CryptoBot
# Documentation: https://help.crypt.bot/crypto-pay-api
# Create app: t.me/CryptoBot -> Crypto Pay -> My Apps -> Create App
# Supports: USDT, TON, BTC, ETH, LTC, BNB, TRX, USDC
# TestNet: Use @CryptoTestnetBot for testing (get tokens from @TestnetTONDrop)
# MainNet: Use @CryptoBot for real payments
CRYPTO_PAY_TOKEN_TESTNET=  # Token from @CryptoTestnetBot
CRYPTO_PAY_TOKEN_MAINNET=  # Token from @CryptoBot (for production)
CRYPTO_PAY_TESTNET=true    # Set to 'false' for production

# NOWPayments (300+ crypto + 75 fiat currencies)
# Documentation: https://documenter.getpostman.com/view/7907941/S1a32n38
# Create account: https://account.nowpayments.io/
# Features: 0.5-1% fees, global coverage, non-custodial
# Supports: BTC, ETH, USDT, TON, and 300+ cryptocurrencies
NOWPAYMENTS_API_KEY=  # Get from https://account.nowpayments.io/ → Settings → API Keys
NOWPAYMENTS_IPN_SECRET=  # Get from Settings → IPN Secret Key (for webhook security)
NOWPAYMENTS_SANDBOX=false  # Set to 'true' for testing with sandbox.nowpayments.io
NOWPAYMENTS_OUTCOME_WALLET=  # Your crypto wallet address for withdrawals (USDT TRC20 recommended)

# Bot Configuration
REQUEST_LIMIT_PER_DAY=5
CACHE_TTL_COINGECKO=60  # seconds
CACHE_TTL_CRYPTOPANIC=300  # seconds (5 minutes)

# Subscription Check
# CRITICAL: Set to 'false' (or leave unset) in production for security!
# Only set to 'true' in development if bot is not channel admin yet
SKIP_SUBSCRIPTION_CHECK=false

# Environment
ENVIRONMENT=development  # development, production
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL

# Mini App URL (for Web App button in /start)
# ВАЖНО: Должен открывать /home для Mini App, не корень (/)
# Development: http://localhost:3000/home or ngrok URL
# Production: Your deployed frontend URL + /home
WEBAPP_URL=http://localhost:3000/home

# API Base URL (for serving static files like screenshots in Telegram)
# Production: https://api.yourdomain.com or your API server URL
API_BASE_URL=http://localhost:8000

# Mini App Authentication
# Expiration time for Telegram initData (in seconds)
# Default: 86400 (24 hours)
# Official docs recommend 1 hour (3600), but 24 hours is more user-friendly
INIT_DATA_EXPIRATION=86400

# Optional: Redis (for production caching)
REDIS_URL=redis://localhost:6379/0

# Optional: Sentry (for error monitoring & tracking)
# Get your DSN from: https://sentry.io/signup/
# Features: automatic error capture, performance monitoring, release tracking
# Leave empty to disable Sentry integration
SENTRY_DSN=

# PostHog Product Analytics (РЕКОМЕНДУЕТСЯ!)
# Бесплатный план: 1M events/month - достаточно для старта
# Get your API key from: https://posthog.com/signup
# Фичи: conversion tracking, retention analysis, feature flags, A/B testing
# Без этого НЕ будет метрик конверсии FREE→PAID и retention!
# Leave empty to disable (бот работает без аналитики, просто нет visibility)
POSTHOG_API_KEY=
POSTHOG_HOST=https://app.posthog.com

# PostHog for Next.js Frontend (must start with NEXT_PUBLIC_)
# Use the same API key as above, but with NEXT_PUBLIC_ prefix for client-side access
NEXT_PUBLIC_POSTHOG_KEY=
NEXT_PUBLIC_POSTHOG_HOST=https://us.i.posthog.com


# Terms of Service
TERMS_OF_SERVICE_URL_RU=https://telegra.ph/Pravila-ispolzovaniya-Syntra-AI-11-23
TERMS_OF_SERVICE_URL_EN=https://telegra.ph/Terms-of-Service---Syntra-AI-11-23

# Privacy Policy
PRIVACY_POLICY_URL_RU=https://telegra.ph/Politika-konfidencialnosti-Syntra-AI-11-23
PRIVACY_POLICY_URL_EN=https://telegra.ph/Privacy-Policy---Syntra-AI-11-23

# Resend Email Service (for Magic Link authentication)
# Free tier: 3,000 emails/month, 100 emails/day
# Get your API key from: https://resend.com/api-keys
# Verify your sending domain: https://resend.com/domains
RESEND_API_KEY=
RESEND_FROM_EMAIL=noreply@syntratrade.xyz  # Must be verified domain
RESEND_FROM_NAME=Syntra AI

# NextAuth JWT Secret (for Magic Link authentication)
# Generate with: openssl rand -hex 32
# IMPORTANT: Must be the same in both backend and frontend
NEXTAUTH_SECRET=your-nextauth-secret-here-min-32-characters